webpackJsonp([1],{0:function(e,t){},"0bsR":function(e,t){},"0jwd":function(e,t){},"0klE":function(e,t){},1:function(e,t,a){a("j1ja"),e.exports=a("NHnr")},2:function(e,t){},3:function(e,t){},"53Jz":function(e,t){},"8KuK":function(e,t){},"A+hO":function(e,t){},Es9z:function(e,t){},G10o:function(e,t){},GgXt:function(e,t){},GhRB:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},n=a("VU/8")({name:"App"},r,!1,null,null,null).exports,o=a("/ocq"),s=a("bOdI"),i=a.n(s),c=a("lDdF"),m=a.n(c),d=a("uXZL"),p=a.n(d);function u(e,t){var a=p.a.utils.table_to_book(document.querySelector(e)),l=p.a.write(a,{bookType:"xlsx",bookSST:!0,type:"array"});try{m.a.saveAs(new Blob([l],{type:"application/octet-stream"}),t+".xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,l)}return l}var f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",[a("div",{staticClass:"top"},[a("h1",[e._v("乐安士后台管理系统")])]),e._v(" "),a("el-menu",{attrs:{"default-openeds":["1","2","3"],"background-color":"#20222a","text-color":"#f1f1f1","active-text-color":"#02c1b3"}},[a("el-submenu",{staticClass:"menu-one",attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"iconfont icon-guanli"}),e._v(" 会员管理")]),e._v(" "),a("el-menu-item-group",[a("router-link",{attrs:{to:"/addMember"}},[a("el-menu-item",{attrs:{index:"1-1"}},[e._v("新增会员")])],1),e._v(" "),a("router-link",{attrs:{to:"/addMemberList"}},[a("el-menu-item",{attrs:{index:"1-2"}},[e._v("新增会员列表")])],1),e._v(" "),a("router-link",{attrs:{to:"/memberList"}},[a("el-menu-item",{attrs:{index:"1-3"}},[e._v("会员列表")])],1)],1),e._v(" "),a("el-submenu",{attrs:{index:"1-4"}},[a("template",{slot:"title"},[e._v("修改会员信息")]),e._v(" "),a("router-link",{attrs:{to:"/basicInfo"}},[a("el-menu-item",{attrs:{index:"1-4-1"}},[e._v("修改基本信息")])],1),e._v(" "),a("router-link",{attrs:{to:"/sensitiveinfo"}},[a("el-menu-item",{attrs:{index:"1-4-2"}},[e._v("修改敏感信息")])],1),e._v(" "),a("router-link",{attrs:{to:"/reName"}},[a("el-menu-item",{attrs:{index:"1-4-3"}},[e._v("会员更名")])],1),e._v(" "),a("router-link",{attrs:{to:"/changeReferee"}},[a("el-menu-item",{attrs:{index:"1-4-4"}},[e._v("更改推荐人")])],1),e._v(" "),a("router-link",{attrs:{to:"/changeLevel"}},[a("el-menu-item",{attrs:{index:"1-4-5"}},[e._v("更改会员级别")])],1),e._v(" "),a("router-link",{attrs:{to:"/bindingOld"}},[a("el-menu-item",{attrs:{index:"1-4-6"}},[e._v("与老会员绑定")])],1),e._v(" "),a("router-link",{attrs:{to:"/queryRecord"}},[a("el-menu-item",{attrs:{index:"1-4-7"}},[e._v("修改记录查询")])],1),e._v(" "),a("router-link",{attrs:{to:"/toExamine"}},[a("el-menu-item",{attrs:{index:"1-4-8"}},[e._v("审核管理")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"1-5"}},[a("template",{slot:"title"},[e._v("会员状态维护")]),e._v(" "),a("router-link",{attrs:{to:"/mState"}},[a("el-menu-item",{attrs:{index:"1-5-1"}},[e._v("会员状态")])],1),e._v(" "),a("router-link",{attrs:{to:"/mStateRecord"}},[a("el-menu-item",{attrs:{index:"1-5-2"}},[e._v("会员冻结注销记录")])],1),e._v(" "),a("router-link",{attrs:{to:"/mIntegralFreezing"}},[a("el-menu-item",{attrs:{index:"1-5-3"}},[e._v("会员积分冻结记录")])],1)],2)],2),e._v(" "),a("el-submenu",{staticClass:"menu-one",attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"iconfont icon-jiangli"}),e._v(" 会员奖励")]),e._v(" "),a("el-submenu",{attrs:{index:"2-1"}},[a("template",{slot:"title"},[e._v("周期管理")]),e._v(" "),a("router-link",{attrs:{to:"/cycleManage"}},[a("el-menu-item",{attrs:{index:"2-1-1"}},[e._v("周期管理")])],1),e._v(" "),a("router-link",{attrs:{to:"/cycleChangeLog"}},[a("el-menu-item",{attrs:{index:"2-1-2"}},[e._v("周期切换日志")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"2-2"}},[a("template",{slot:"title"},[e._v("周期奖励计算")]),e._v(" "),a("router-link",{attrs:{to:"/cycleCount"}},[a("el-menu-item",{attrs:{index:"2-2-1"}},[e._v("周期结算")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"2-3"}},[a("template",{slot:"title"},[e._v("会员奖金查询")]),e._v(" "),a("router-link",{attrs:{to:"/historicalBonus"}},[a("el-menu-item",{attrs:{index:"2-3-1"}},[e._v("历史奖金表")])],1),e._v(" "),a("router-link",{attrs:{to:"/bonusgGant"}},[a("el-menu-item",{attrs:{index:"2-3-2"}},[e._v("奖金发放明细表")])],1),e._v(" "),a("router-link",{attrs:{to:"/memberBonus"}},[a("el-menu-item",{attrs:{index:"2-3-3"}},[e._v("会员奖金明细表")])],1),e._v(" "),a("router-link",{attrs:{to:"/memberArrears"}},[a("el-menu-item",{attrs:{index:"2-3-4"}},[e._v("会员欠款表")])],1),e._v(" "),a("router-link",{attrs:{to:"/arrearsDetailed"}},[a("el-menu-item",{attrs:{index:"2-3-5-1"}},[e._v("会员欠款明细表")])],1),e._v(" "),a("router-link",{attrs:{to:"/arrearsToExamine"}},[a("el-menu-item",{attrs:{index:"2-3-6"}},[e._v("会员欠款申请审核")])],1)],2)],2),e._v(" "),a("el-submenu",{staticClass:"menu-one",attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"iconfont icon-jiangli"}),e._v("会员积分管理")]),e._v(" "),a("el-menu-item-group",[a("router-link",{attrs:{to:"/IntegralQuery"}},[a("el-menu-item",{attrs:{index:"3-1"}},[e._v("会员积分查询")])],1),e._v(" "),a("router-link",{attrs:{to:"/IntegralRule"}},[a("el-menu-item",{attrs:{index:"3-2"}},[e._v("会员规则设置")])],1),e._v(" "),a("router-link",{attrs:{to:"/presentToExamine"}},[a("el-menu-item",{attrs:{index:"3-3"}},[e._v("会员提现审核")])],1),e._v(" "),a("router-link",{attrs:{to:"/presentRecord"}},[a("el-menu-item",{attrs:{index:"3-4"}},[e._v("提现记录")])],1)],1)],2)],1)],1)},staticRenderFns:[]};var g=a("VU/8")({name:"menu-com",methods:{}},f,!1,function(e){a("G10o")},null,null).exports,h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",[a("span",[e._v("用户：客服A")]),e._v(" "),a("span",[e._v("权限：客服组")]),e._v(" "),a("span",[e._v("当前业务期：201812")]),e._v(" "),a("span",[e._v("登录时间：20181011 9:10")]),e._v(" "),a("span",[a("el-badge",{staticClass:"item",attrs:{value:20,max:10}},[a("i",{staticClass:"el-icon-bell"})])],1),e._v(" "),a("img",{staticClass:"head-portrait",attrs:{src:"http://via.placeholder.com/30x30",alt:"头像"}}),e._v(" "),a("el-dropdown",[a("span",[e._v("王小虎")]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("个人中心")]),e._v(" "),a("el-dropdown-item",[e._v("切换用户")]),e._v(" "),a("el-dropdown-item",[e._v("退出")])],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")({name:"header-com"},h,!1,function(e){a("dhC9")},null,null).exports,v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[e._t("header"),e._v(" "),a("div",{staticClass:"rightContent"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),e._l(e.breadlist,function(t,l){return a("el-breadcrumb-item",{key:l,attrs:{to:t.path}},[e._v(e._s(t.title))])})],2),e._v(" "),a("h2",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"box-boder"},[a("div",{staticClass:"box"},[a("router-view")],1)])],1)],2)},staticRenderFns:[]};var _,D=a("VU/8")({name:"content-com",data:function(){return{title:"",breadlist:""}},created:function(){this.getbreadlist()},mounted:function(){},methods:{getbreadlist:function(){this.breadlist=this.$route.matched.map(function(e){return{title:e.name,path:e.path}}),this.title=this.breadlist[this.breadlist.length-1].title}},watch:{$route:function(){this.getbreadlist()}}},v,!1,function(e){a("A+hO")},"data-v-40aa38e6",null).exports,w={name:"index",components:(_={},i()(_,g.name,g),i()(_,b.name,b),i()(_,D.name,D),_),data:function(){return{}},methods:{}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticClass:"main"},[t("menu-com"),this._v(" "),t("el-container",{staticClass:"Content"},[t("content-com",[t("header-com",{attrs:{slot:"header"},slot:"header"})],1)],1)],1)},staticRenderFns:[]};var k=a("VU/8")(w,y,!1,function(e){a("Vktz")},null,null).exports,C=a("BI0u"),x={data:function(){return{placeholders:["省","市","区"],pca:C.pca,pcaa:C.pcaa,searchUser:!1,isdisabled:!0,loadingTable:!0,radio:"",searchFrom:{mCode:"",mName:"",mobile:"",mNickname:""},formSearch:{id:"",nickname:"",name:""},formData:[],selectNum:"",formMember:{id:"",name:"张三",nickname:"小张",IDType:"居民身份证",IDNumber:"12321321321321321",sex:"保密",date:"1990-12-12",tel:"18807258866",address:[],zipCode:"125556",email:"12312321@163.com",wechat:"981665165dsfds",qq:"123213",accountType:"中国工商银行",accountName:"张三",accountNumber:"12321312"},rules:{name:[{required:!0,message:"请输入会员姓名",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],IDType:[{required:!0,message:"请选择证件类型",trigger:"blur"}],IDNumber:[{required:!0,message:"请输入证件号码",trigger:"blur"}],tel:[{required:!0,message:"请输入手机号",trigger:"change"},{type:"number",message:"手机号必须为数字",trigger:"change"}]},tableData:[{date:"V01001",name:"VIP启动包一",number:1,price:380.003,MPrice:300,money:380,PV:0,AllPv:0},{date:"V01001",name:"VIP启动包一",number:1,price:380,MPrice:300,money:380,PV:0,AllPv:0}]}},methods:{resetForm:function(){},onSubmit:function(){var e=this.$router.resolve({path:"/addMemberForm",query:{id:this.formMember.id}});window.open(e.href,"_blank")},searchCode:function(){var e=this;this.$axios.get("/apis/member/findByMCode",{params:{mCode:this.formSearch.id}}).then(function(t){t.data.code&&(e.formData.push(t.data.data),e.searchUser=!0,e.loadingTable=!1)})},getCurrentRow:function(e){this.selectNum=e,this.isdisabled=!1},sendData:function(){this.searchUser=!1,this.formSearch.name=this.formData[this.selectNum].mname,this.formSearch.nickname=this.formData[this.selectNum].mnickname},onSearch2:function(){this.searchUser=!0},onSearch3:function(){this.searchUser=!0},addBtn:function(e,t){t.number++},reduceBtn:function(e,t){0!==t.number&&t.number--}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"line"},[a("span",[e._v("推荐人信息")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formSearch}},[a("el-form-item",{staticClass:"serch-input",attrs:{label:"推荐人编号:"}},[a("el-input",{attrs:{placeholder:"请输入关键搜索"},model:{value:e.formSearch.id,callback:function(t){e.$set(e.formSearch,"id",t)},expression:"formSearch.id"}}),e._v(" "),a("i",{staticClass:"el-icon-search",on:{click:e.searchCode}})],1),e._v(" "),a("el-form-item",{staticClass:"serch-input",attrs:{label:"推荐人昵称:"}},[a("el-input",{attrs:{placeholder:"请输入关键搜索"},model:{value:e.formSearch.nickname,callback:function(t){e.$set(e.formSearch,"nickname",t)},expression:"formSearch.nickname"}}),e._v(" "),a("i",{staticClass:"el-icon-search",on:{click:e.onSearch2}})],1),e._v(" "),a("el-form-item",{staticClass:"serch-input",attrs:{label:"推荐人姓名:"}},[a("el-input",{attrs:{placeholder:"请输入关键搜索"},model:{value:e.formSearch.name,callback:function(t){e.$set(e.formSearch,"name",t)},expression:"formSearch.name"}}),e._v(" "),a("i",{staticClass:"el-icon-search",on:{click:e.onSearch3}})],1)],1)],1),e._v(" "),a("div",{staticClass:"line"},[a("span",[e._v("会员基本信息")]),e._v(" "),a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.formMember,"label-width":"90px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"会员姓名:",prop:"name"}},[a("el-input",{model:{value:e.formMember.name,callback:function(t){e.$set(e.formMember,"name",t)},expression:"formMember.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[a("el-form-item",{attrs:{label:"昵称:",prop:"nickname"}},[a("el-input",{model:{value:e.formMember.nickname,callback:function(t){e.$set(e.formMember,"nickname",t)},expression:"formMember.nickname"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件类型:"}},[a("el-select",{attrs:{placeholder:"请选择类型",prop:"IDType"},model:{value:e.formMember.IDType,callback:function(t){e.$set(e.formMember,"IDType",t)},expression:"formMember.IDType"}},[a("el-option",{attrs:{label:"居民身份证",value:""}}),e._v(" "),a("el-option",{attrs:{label:"护照",value:""}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[a("el-form-item",{attrs:{label:"证件号码:",prop:"IDNumber"}},[a("el-input",{model:{value:e.formMember.IDNumber,callback:function(t){e.$set(e.formMember,"IDNumber",t)},expression:"formMember.IDNumber"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"性别:"}},[a("el-radio-group",{model:{value:e.formMember.sex,callback:function(t){e.$set(e.formMember,"sex",t)},expression:"formMember.sex"}},[a("el-radio",{attrs:{label:"男"}}),e._v(" "),a("el-radio",{attrs:{label:"女"}}),e._v(" "),a("el-radio",{attrs:{label:"保密"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"出生日期:"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.formMember.date,callback:function(t){e.$set(e.formMember,"date",t)},expression:"formMember.date"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"手机号码:",prop:"tel"}},[a("el-input",{model:{value:e.formMember.tel,callback:function(t){e.$set(e.formMember,"tel",e._n(t))},expression:"formMember.tel"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"inline-block",attrs:{label:"地址:"}},[a("div",{staticClass:"area"},[a("area-select",{attrs:{type:"text",level:2,placeholders:e.placeholders,data:e.pcaa},model:{value:e.formMember.address,callback:function(t){e.$set(e.formMember,"address",t)},expression:"formMember.address"}})],1)]),e._v(" "),a("el-form-item",{staticClass:"text-center inline-block",attrs:{label:"详细地址:"},model:{value:e.formMember.address,callback:function(t){e.$set(e.formMember,"address",t)},expression:"formMember.address"}},[a("el-input",{staticClass:"long-input"})],1),e._v(" "),a("el-form-item",{staticClass:"text-center inline-block",attrs:{label:"邮政编码:",prop:"zipCode"}},[a("el-input",{model:{value:e.formMember.zipCode,callback:function(t){e.$set(e.formMember,"zipCode",e._n(t))},expression:"formMember.zipCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"Email:",prop:"email"}},[a("el-input",{model:{value:e.formMember.email,callback:function(t){e.$set(e.formMember,"email",t)},expression:"formMember.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"微信号:",prop:"email"}},[a("el-input",{model:{value:e.formMember.wechat,callback:function(t){e.$set(e.formMember,"wechat",t)},expression:"formMember.wechat"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"QQ号:",prop:"email"}},[a("el-input",{model:{value:e.formMember.qq,callback:function(t){e.$set(e.formMember,"qq",t)},expression:"formMember.qq"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"开户行:",prop:"email"}},[a("el-select",{attrs:{placeholder:"请选择开户行"},model:{value:e.formMember.accountType,callback:function(t){e.$set(e.formMember,"accountType",t)},expression:"formMember.accountType"}},[a("el-option",{attrs:{label:"中国工商银行",value:""}}),e._v(" "),a("el-option",{attrs:{label:"中国农业银行",value:""}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{label:"分行:",prop:"email","label-width":"60px"}},[a("el-input",{model:{value:e.formMember.accountName,callback:function(t){e.$set(e.formMember,"accountName",t)},expression:"formMember.accountName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"户名:",prop:"email"}},[a("el-input",{model:{value:e.formMember.accountName,callback:function(t){e.$set(e.formMember,"accountName",t)},expression:"formMember.accountName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"账号:",prop:"email"}},[a("el-input",{model:{value:e.formMember.accountNumber,callback:function(t){e.$set(e.formMember,"accountNumber",t)},expression:"formMember.accountNumber"}})],1)],1)],1),e._v(" "),a("dialog-com")],1)],1),e._v(" "),a("div",{staticClass:"line"},[a("span",[e._v("购货订单")]),e._v(" "),a("el-table",{attrs:{data:e.tableData,border:"",center:""}},[a("el-table-column",{attrs:{prop:"date",label:"产品编码",width:"90",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"产品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"数量",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){e.reduceBtn(t.$index,t.row)}}},[e._v("-")]),e._v(" "),a("span",{staticClass:"number-count"},[e._v(e._s(t.row.number))]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){e.addBtn(t.$index,t.row)}}},[e._v("+")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"零售价",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"MPrice",label:"会员价",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",label:"金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PV",label:"PV",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"AllPv",label:"总PV",align:"center"}})],1),e._v(" "),a("el-form",{attrs:{model:e.formSearch}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"订单总汇:"}},[e._v("123")])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"总数量:"}},[e._v("123")])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"总金额:"}},[e._v("123")])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"总PV:"}},[e._v("123")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"发货方式:"}},[a("el-radio-group",{model:{value:e.formMember.sex,callback:function(t){e.$set(e.formMember,"sex",t)},expression:"formMember.sex"}},[a("el-radio",{attrs:{label:"自提"}}),e._v(" "),a("el-radio",{attrs:{label:"快递"}}),e._v(" "),a("el-radio",{attrs:{label:"地址与上述地址相同"}}),e._v(" "),a("el-radio",{attrs:{label:"其它地址："}})],1)],1)],1)],1)],1),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formSearch}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("div",{staticClass:"area"},[a("area-select",{attrs:{type:"text",level:2,placeholders:e.placeholders,data:e.pcaa},model:{value:e.formMember.address,callback:function(t){e.$set(e.formMember,"address",t)},expression:"formMember.address"}})],1)]),e._v(" "),a("el-form-item",{staticClass:"text-center",attrs:{label:"详细地址:"}},[a("el-input",{staticClass:"long-input"})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"inline-block",attrs:{label:"收件人:"}},[a("el-input",{staticClass:"inline-block",model:{value:e.formSearch.id,callback:function(t){e.$set(e.formSearch,"id",t)},expression:"formSearch.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"inline-block",attrs:{label:"联系方式:"}},[a("el-input",{staticClass:"inline-block",model:{value:e.formSearch.nickname,callback:function(t){e.$set(e.formSearch,"nickname",t)},expression:"formSearch.nickname"}})],1)],1)],1)],1)],1),e._v(" "),a("el-form",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"btn-center block"},[a("el-button",{on:{click:e.resetForm}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{offset:1,type:"primary"},on:{click:e.onSubmit}},[e._v("下一步")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.searchUser,width:"80%",center:""},on:{"update:visible":function(t){e.searchUser=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],ref:"multipleTable",attrs:{data:e.formData,"tooltip-effect":"dark",border:"",size:"mini","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{label:"选择",type:"",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.$index},nativeOn:{change:function(a){e.getCurrentRow(t.$index)}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"mcode",label:"编号",width:"90",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mname",label:"姓名",width:"90",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mnickname",label:"昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mid",label:"推荐人编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"推荐人编昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"出生日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"加入日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idType",label:"加入期间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idType",label:"级别",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idType",label:"状态",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"市",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"country",label:"区县",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detial",label:"详细地址",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addPost",label:"邮编",width:"70",align:"center"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.searchUser=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.isdisabled},on:{click:e.sendData}},[e._v("确 定")])],1)],1),e._v(" "),a("dialog-com")],1)},staticRenderFns:[]};var T=a("VU/8")(x,S,!1,function(e){a("WGLO")},null,null).exports,$=a("//Fk"),P=a.n($),I={data:function(){new Date;return{loadingTable:!1,form:{time:["",""],name:"",tel:"",state:""},searchData:[],pageData:{currentPage:1,pageSize:10,total:null},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.form.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onChangeDate:function(e){e&&(this.form.time[0]=e[0].getFullYear()+"-"+(e[0].getMonth()+1)+"-"+e[0].getDate()+" "+e[0].getHours()+":"+e[0].getMinutes()+":"+e[0].getSeconds(),this.form.time[1]=e[1].getFullYear()+"-"+(e[1].getMonth()+1)+"-"+e[1].getDate()+" "+e[1].getHours()+":"+e[1].getMinutes()+":"+e[1].getSeconds())},onSearch:function(){var e=this;this.loadingTable=!0;var t="",a="";this.form.time&&(t=this.form.time[0],a=this.form.time[1]),this.$axios({method:"post",url:"/apis/member/findEditStatus",params:{currentPage:this.form.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mName:this.form.name,updateType:this.form.type,reviewStatus:this.form.state,updateTimeStar:t,updateTimeEnd:a,date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.searchData=t.data.data.list;for(var a=0;a<e.searchData.length;a++)0==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="待审":1==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="驳回":2==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="审核通过":e.searchData[a].reviewStatus="无需审核",0==e.searchData[a].updateType?e.searchData[a].updateType="修改基本信息":1==e.searchData[a].updateType?e.searchData[a].updateType="修改敏感信息":2==e.searchData[a].updateType?e.searchData[a].updateType="会员更名":3==e.searchData[a].updateType?e.searchData[a].updateType="更改推荐人":4==e.searchData[a].updateType?e.searchData[a].updateType="更改会员级别":5==e.searchData[a].updateType?e.searchData[a].updateType="与老会员绑定":e.searchData[a].updateType="";e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onShowDetails:function(e){},exportExcel:function(){var e=this;0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):new P.a(function(t,a){e.pageData.pageSize=e.pageData.total,e.onSearch(),setTimeout(function(){t()},500)}).then(function(){var t=XLSX.utils.table_to_book(document.querySelector("#memberTable")),a=XLSX.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{FileSaver.saveAs(new Blob([a],{type:"application/octet-stream"}),"新增会员列表.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,a)}return e.pageData.pageSize=10,e.onSearch(),a})}},created:function(){var e=this;util.$on("ChangeDetailsSuccess",function(){e.onSearch()})}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"80px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"会员姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:e.exportExcel}},[e._v("导出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:2}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"待付款",value:"待付款"}}),e._v(" "),a("el-option",{attrs:{label:"已付款",value:"已付款"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"mCode",label:"订单号",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员姓名",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员昵称",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"推荐人编号",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"推荐人昵称",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"手机号码",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"订单金额",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"运费",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"订单总PV值",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"购物积分支付",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"实付金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"订单类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"订单状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"支付方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"下单时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"支付时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.onShowDetails(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.onShowDetails(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{staticClass:"cancel",attrs:{type:"text"},on:{click:function(a){e.onShowDetails(t.row)}}},[e._v("取消")])]}}])})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),a("dialog-com")],1)},staticRenderFns:[]};var z=a("VU/8")(I,B,!1,function(e){a("kmTW")},"data-v-4177c5ae",null).exports,N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{"label-width":"90px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"推荐人编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"推荐人昵称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"加入日期"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"性别"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"证件类型"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"证件号码"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"微信号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{staticStyle:{"margin-left":"10px"},attrs:{label:"省","label-width":"30px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{staticStyle:{"margin-left":"10px"},attrs:{label:"市","label-width":"30px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{staticStyle:{"margin-left":"10px"},attrs:{label:"区","label-width":"30px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"邮编"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员级别"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"会员状态"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"奖励积分状态","label-width":"110px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"奖励积分余额","label-width":"110px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"关联绑定状态","label-width":"110px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"关联绑定状态","label-width":"110px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-table",[a("el-table-column",{attrs:{label:"会员银行卡列表",align:"center"}},[a("el-table-column",{attrs:{label:"银行名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"卡号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"账户名",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",width:"120",align:"center"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-table",[a("el-table-column",{attrs:{label:"会员收货地址列表",align:"center"}},[a("el-table-column",{attrs:{label:"地址列表",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"收货人",width:"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"手机号",width:"150",align:"center"}})],1)],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",[a("el-table-column",{attrs:{label:"#",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.$index}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单来源",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"商品件数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"商品金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"运费",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单总金额",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{label:"付款状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"付款时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"总PV",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"业绩周期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"发运方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"发运状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"快递单号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"评价状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"售后状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"收货人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"联系电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"省",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"市",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"县区",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"详细地址",align:"center",width:"260px"}})],1)],1)],1)],1)},staticRenderFns:[]},A=a("VU/8")({data:function(){return{form:{mCode:""}}}},N,!1,null,null,null).exports,M={data:function(){return{checked:!1}},created:function(){console.log(this.$route.params)},methods:{printContent:function(e){var t=document.getElementById("content");!function(){var e;e="HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\PageSetup\\";try{var t=new ActiveXObject("WScript.Shell");t.RegWrite(e+"header",""),t.RegWrite(e+"footer","")}catch(e){}}();var a=t.innerHTML,l=document.body.innerHTML;return document.body.innerHTML=a,window.print(),window.location.reload(),document.body.innerHTML=l,!1},onNext:function(){this.checked&&this.$router.push({name:"Payment",params:{id:123}})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("div",{attrs:{id:"content"}},[a("h2",{staticClass:"text-center"},[e._v("新会员加入单")]),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:6}},[e._v("\n                会员编号：con000001\n            ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                姓名：张三丰\n            ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                昵称：三丰真人\n            ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                推荐人编号：con000000\n            ")]),e._v(" "),a("el-col",{attrs:{span:5}},[e._v("\n                推荐人昵称：乐安士\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:6}},[e._v("\n                证件类型：居民身份证\n            ")]),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("\n                证件号码：36071599884523\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                性别：男\n            ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                出生日期：1977年0101日\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:6}},[e._v("\n                手机号码: 13988888888\n            ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                微信号：13988888888\n            ")]),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("\n                Email: sanfeng888@qq.com\n            ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                QQ:515112121\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:16}},[e._v("\n                地址：广东省深圳市南山区南山大道188号亿利达大厦2-108\n            ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                邮编：000000\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:6}},[e._v("\n                银行：中国工商银行\n            ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                户名：张三丰\n            ")]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v("\n                账号：6201 xxxx xxxx xxxx 911\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:4}},[e._v("\n                购货信息：\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:6,offset:1}},[e._v("\n                订单编号：0001000001\n            ")]),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("\n                订单日期：2018年12月1日\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:3,offset:1}},[e._v("\n                商口编码\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                商品名称\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                单价\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                数量\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                金额\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                PV值\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                总PV\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:3,offset:1}},[e._v("\n                V01001\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                VIP启动包一\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                380.00\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                1\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                380.00\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                0\n            ")]),e._v(" "),a("el-col",{attrs:{span:3}},[e._v("\n                0\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:4,offset:18}},[e._v("\n                数量： 1\n            ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:4,offset:18}},[e._v("\n                商品金额： 380.00\n            ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:4,offset:18}},[e._v("\n                总PV: 0.00\n            ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:4,offset:18}},[e._v("\n                运费： 10.00\n            ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:4,offset:18}},[e._v("\n                合计： 390.00\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:4}},[e._v("\n                发货方式：  快递        \n            ")]),e._v(" "),a("el-col",{attrs:{span:20}},[e._v("\n                地址： 广东省深圳市南山区南山大道188号亿利达大厦2-108\n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:4,offset:4}},[e._v("\n                收件人: 张三丰              \n            ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                联系方式： 13988888888    \n            ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:0,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:10}},[[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("本人已阅读背面有关《会员加入须知事项》，且保证所填资料真实可靠。")])]],2)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:10,offset:3}},[e._v("\n                注册日期:  2018年12月1日                             \n            ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                签字：   \n            ")])],1),e._v(" "),a("br"),e._v(" "),a("br")],1),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary"},on:{click:e.printContent}},[e._v("打印")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"success",disabled:!e.checked},on:{click:e.onNext}},[e._v("下一步")])],1)],1)],1)},staticRenderFns:[]};var F=a("VU/8")(M,R,!1,function(e){a("0klE")},"data-v-a2931e9a",null).exports,E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("el-dialog",{attrs:{title:"激活账户",visible:e.DialogActivation,width:"500px",center:""},on:{"update:visible":function(t){e.DialogActivation=t}}},[a("el-form",{ref:"form"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n                    会员编号：\n                ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                con000001\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n                    昵称：\n                ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    张三丰\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n                    姓名：\n                ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    张三丰\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n                    证件号码：\n                ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    11010019770101511\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n                    账户状态：\n                ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                    未激活\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n                    支付密码：\n                ")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n                    再次输入：\n                ")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.DialogActivation=!1}}},[e._v("激活账户")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新会员支付成功",visible:e.DialogPaySuccess,width:"400px",center:""},on:{"update:visible":function(t){e.DialogPaySuccess=t}}},[a("el-form",{attrs:{"label-width":"100px","label-position":"left"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:4}},[e._v("\n                    订单编号：\n                ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                    con000001\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:4}},[e._v("\n                    会员编号：\n                ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                    con000001\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:4}},[e._v("\n                    姓名：\n                ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                    张三丰\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:4}},[e._v("\n                    订单日期：\n                ")]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v("\n                    2018年12月1日\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:4}},[e._v("\n                    订单金额：\n                ")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n                    285.300\n                ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[a("el-col",{attrs:{span:22}},[e._v("\n                    订单支付已成功，系统将会员编号及密码发短信至会员手机号13988888888，请通知该会员及时登陆并修改密码。\n                ")])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.DialogPaySuccess=!1}}},[e._v("确认")])],1)],1)],1)},staticRenderFns:[]};var L=a("VU/8")({name:"dialog-payment",data:function(){return{DialogActivation:!1,DialogPaySuccess:!1}},methods:{},mounted:function(){}},E,!1,function(e){a("Es9z")},null,null).exports,j={data:function(){return{from:{integral:!1,state:"",balance:"",payment:"",way:""}}},components:i()({},L.name,L),created:function(){console.log(this.$route.params)},methods:{showActivation:function(){},paySuccess:function(){}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("h2",{staticClass:"text-center"},[e._v("新增会员支付")]),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:12}},[e._v("\n            订单编号：con000001\n        ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n            订单日期：1977年0101日\n        ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{attrs:{span:12}},[e._v("\n            会员编号：con000001\n        ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n            姓名：张三丰\n        ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[a("el-col",{attrs:{span:4}},[e._v("\n            订单金额： \n        ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n            380.00\n        ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[a("el-col",{attrs:{span:4}},[e._v("\n            优惠额：\n        ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n            380.00\n        ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[a("el-col",{attrs:{span:4}},[e._v("\n            运费: \n        ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n            380.00\n        ")])],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[a("el-col",{attrs:{span:4}},[e._v("\n            实际金额：\n        ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n            380.00\n        ")])],1),e._v(" "),a("br"),e._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"付款方式"}},[a("el-checkbox-group",{model:{value:e.from.integral,callback:function(t){e.$set(e.from,"integral",t)},expression:"from.integral"}},[a("el-checkbox",{attrs:{label:"购物积分",name:"type"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"状态:"}},[a("el-radio-group",{model:{value:e.from.state,callback:function(t){e.$set(e.from,"state",t)},expression:"from.state"}},[a("el-radio",{attrs:{label:"正常"}}),e._v(" "),a("el-radio",{attrs:{label:"冻结"}}),e._v(" "),a("el-radio",{attrs:{label:"未激活"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showActivation}},[e._v("激活账户")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[e._v("\n                账户余额：\n            ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                0.00\n            ")]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{attrs:{size:"mini"}},[e._v("奖励积分转入")])],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{attrs:{size:"mini"}},[e._v("他人转入")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"使用余额：","label-width":"90px"}},[a("el-input",{model:{value:e.from.balance,callback:function(t){e.$set(e.from,"balance",t)},expression:"from.balance"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{attrs:{size:"mini"}},[e._v("密码验证")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"余额应付：","label-width":"90px"}},[a("el-input",{model:{value:e.from.payment,callback:function(t){e.$set(e.from,"payment",t)},expression:"from.payment"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"支付方式:"}},[a("el-radio-group",{model:{value:e.from.way,callback:function(t){e.$set(e.from,"way",t)},expression:"from.way"}},[a("el-radio",{attrs:{label:"现金"}}),e._v(" "),a("el-radio",{attrs:{label:"银行卡"}}),e._v(" "),a("el-radio",{attrs:{label:"支付宝"}}),e._v(" "),a("el-radio",{attrs:{label:"微信"}})],1)],1)],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"success"},on:{click:e.paySuccess}},[e._v("支付")])],1)],1),e._v(" "),a("dialog-payment")],1)},staticRenderFns:[]};var U=a("VU/8")(j,V,!1,function(e){a("kAUv")},"data-v-62d83ca5",null).exports,O={data:function(){return{loadingTable:!1,selectData1:["...","等于","大于等于","大于","小于等于","小于","包含"],selectData2:["全部","正常","冻结","注销"],selectData3:["全部","普通会员","vip会员","代理会员","初级代理店","一级代理店","二级代理店","三级代理店","旗舰店","高级旗舰店","超级旗舰店"],searchFrom:{id:"",nickname:"",name:"",tel:"",grId:"",grname:"",ostatus:"",joioTime:"",levelFrom:"",levelTo:"",inputId:"",inputNickName:"",inputName:"",inputTel:"",inputGrId:"",inputGrName:""},pageData:{currentPage:1,pageSize:2,total:null},selectMember:"",tableData:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.getMemberinfo()},handleSizeChange:function(e){this.pageData.pageSize=e,this.getMemberinfo()},onSearch:function(){var e=this,t=this.formSearch;""!=t.inputId||""!=t.inputNickName||""!=t.inputName||""!=t.inputTel||""!=t.inputGrId||""!=t.inputGrName?this.$axios.get("/apis/member/findByMCode",{params:{mCode:this.formSearch.inputId}}).then(function(t){t.data.data?e.searchData.push(t.data.data):util.$emit("userDefined",{icon:"success",title:"未搜到相关会员，请确认后重试"})}):util.$emit("userDefined",{icon:"error",title:response.data.msg})},exportExcel:function(e,t){0==this.tableData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)},getMemberinfo:function(){var e=this;this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/search",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:this.searchFrom.mCode,mName:this.searchFrom.mName,mobile:this.searchFrom.mobile,mNickname:this.searchFrom.mNickname,date:(new Date).getTime()}}).then(function(t){e.tableData=t.data.data.list,e.pageData.total=t.data.data.total;for(var a=function(a){e.tableData[a].birthdate=e.tableData[a].birthdate.slice(0,10),e.$axios({method:"get",url:"/apis/member/findRelationByMCode",params:{mCode:t.data.data.list[a].mCode,date:(new Date).getTime()}}).then(function(t){t.data.code&&(e.tableData[a].mStatus=1==t.data.data.memberRelation.rank?"正常":2==t.data.data.memberRelation.rank?"冻结":"注销",e.tableData[a].mLevel=t.data.data.rankName,l.default.set(e.tableData,a,e.tableData[a]))}),e.$axios({method:"get",url:"/apis/member/findRelationByMCode",params:{mCode:t.data.data.list[a].mCode,date:(new Date).getTime()}}).then(function(t){t.data.code&&(e.tableData[a].refereeId=t.data.data.memberRelation.sponsorCode,e.tableData[a].refereeName=t.data.data.memberRelation.sponsorName,l.default.set(e.tableData,a,e.tableData[a]))})},r=0;r<t.data.data.list.length;r++)a(r);setTimeout(function(){e.loadingTable=!1},200)})},getCurrentRow:function(e){this.selectMember=e},onDetail:function(){this.selectMember?this.$router.push({path:"/mdetailed",params:{mCode:this.selectMember.mCode}}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})}},created:function(){this.getMemberinfo()}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"line"},[a("span",[e._v("查询条件")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.searchFrom,"label-width":"70px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"会员编号","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.id,callback:function(t){e.$set(e.searchFrom,"id",t)},expression:"searchFrom.id"}},e._l(e.selectData1,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-input",{model:{value:e.searchFrom.inputId,callback:function(t){e.$set(e.searchFrom,"inputId",t)},expression:"searchFrom.inputId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.nickname,callback:function(t){e.$set(e.searchFrom,"nickname",t)},expression:"searchFrom.nickname"}},e._l(e.selectData1,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-input",{model:{value:e.searchFrom.inputNickName,callback:function(t){e.$set(e.searchFrom,"inputNickName",t)},expression:"searchFrom.inputNickName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.name,callback:function(t){e.$set(e.searchFrom,"name",t)},expression:"searchFrom.name"}},e._l(e.selectData1,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-input",{model:{value:e.searchFrom.inputName,callback:function(t){e.$set(e.searchFrom,"inputName",t)},expression:"searchFrom.inputName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"手机号码","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.tel,callback:function(t){e.$set(e.searchFrom,"tel",t)},expression:"searchFrom.tel"}},e._l(e.selectData1,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-input",{model:{value:e.searchFrom.inputTel,callback:function(t){e.$set(e.searchFrom,"inputTel",t)},expression:"searchFrom.inputTel"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"推荐编号"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.grId,callback:function(t){e.$set(e.searchFrom,"grId",t)},expression:"searchFrom.grId"}},e._l(e.selectData1,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-input",{model:{value:e.searchFrom.inputGrId,callback:function(t){e.$set(e.searchFrom,"inputGrId",t)},expression:"searchFrom.inputGrId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"推荐昵称"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.grname,callback:function(t){e.$set(e.searchFrom,"grname",t)},expression:"searchFrom.grname"}},e._l(e.selectData1,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:1}},[a("el-input",{model:{value:e.searchFrom.inputGrName,callback:function(t){e.$set(e.searchFrom,"inputGrName",t)},expression:"searchFrom.inputGrName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"text-center",attrs:{label:"级别","label-width":"50px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.levelFrom,callback:function(t){e.$set(e.searchFrom,"levelFrom",t)},expression:"searchFrom.levelFrom"}},e._l(e.selectData3,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"text-center",attrs:{label:"至","label-width":"50px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.levelTo,callback:function(t){e.$set(e.searchFrom,"levelTo",t)},expression:"searchFrom.levelTo"}},e._l(e.selectData3,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchFrom.ostatus,callback:function(t){e.$set(e.searchFrom,"ostatus",t)},expression:"searchFrom.ostatus"}},e._l(e.selectData2,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"加入期间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd-HH:mm:ss","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.searchFrom.joioTime,callback:function(t){e.$set(e.searchFrom,"joioTime",t)},expression:"searchFrom.joioTime"}})],1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[2,10,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{size:"small"},on:{click:e.onDetail}},[e._v("详细")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.exportExcel("#memberTable","会员列表表")}}},[e._v("导出")])],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],ref:"multipleTable",attrs:{id:"memberTable",data:e.tableData,"tooltip-effect":"dark",border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{label:"选择",type:"",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.row},nativeOn:{change:function(a){e.getCurrentRow(t.row)}},model:{value:e.selectMember,callback:function(t){e.selectMember=t},expression:"selectMember"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"编号",width:"80",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mName",label:"姓名",width:"70",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refereeId",label:"推荐人编号",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refereeName",label:"推荐人昵称",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(0==t.row.gender?"男":"女")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"birthdate",label:"出生日期",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationData",label:"加入日期",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateDate",label:"加入期间",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mLevel",label:"级别",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mStatus",label:"状态",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"市",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"country",label:"区县",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detial",label:"详细地址",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addPost",label:"邮编",width:"65",align:"center"}})],1)],1)},staticRenderFns:[]};var W=a("VU/8")(O,q,!1,function(e){a("yyZ6")},null,null).exports,Y=a("mvHQ"),H=a.n(Y),G={data:function(){return{placeholders:["省","市","区"],pca:C.pca,pcaa:C.pcaa,submitLoading:!1,loadingTable:!1,DialogVisible:!1,showArea:!0,searchUser:!1,radio:"",oldForm:{},form:{id:"",name:"",nickname:"",sex:"",email:"",zipCode:"",address:[],detial:"",desc:""},rules:{nickname:[{required:!0,message:"请输入昵称",trigger:["blur","change"]},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:["blur","change"]}]},addressTable:[]}},methods:{onSubmit:function(e){var t=this;this.form.id?this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;H()(t.form)===H()(t.oldForm)?t.$message({showClose:!0,message:"该信息已存在，请匆重复提交!",type:"error"}):(t.submitLoading=!0,t.$axios({method:"post",url:"/apis/member/updateByMCodeAndMName",params:{mCode:t.form.id,mName:t.form.name,mNickname:t.form.nickname,gender:"男"==t.form.sex?0:1,email:t.form.email,province:t.form.address[0],city:t.form.address[1],country:t.form.address[2],detial:t.form.detial,addPost:t.form.zipCode,mDesc:t.form.desc}}).then(function(e){e.data.code?(t.$refs.dialog.userDefined({icon:"success",title:"信息已修改成功！"}),t.oldForm=JSON.parse(H()(t.form))):t.$refs.dialog.userDefined({icon:"error",title:e.data.msg}),t.submitLoading=!1}))}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},addAddress:function(){this.form.id?this.$refs.dialog.showDialogAddAddress({id:this.form.id,zipCode:this.form.zipCode}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},removeAddress:function(e){var t=this;this.$confirm("是否删除该地址?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){t.$axios({method:"get",url:"/apis/member/delMemAddByAId",params:{aId:e.id,mCode:t.form.id}}).then(function(e){e.data.code?(t.$message({message:"成功删除该地址!",type:"success"}),t.getAddressList()):t.$message({showClose:!0,message:"服务器未响应!",type:"error"})})}).catch(function(){})},changeAddress:function(e){this.$refs.dialog.showDialogAddressChange({aId:e.id,mCode:this.form.id})},onSearch:function(){var e=this;this.showArea=!1,this.form.address=[],this.$refs.dialog.onSearchDialog(),setTimeout(function(){e.showArea=!0},300)},getAddressList:function(){var e=this;this.loadingTable=!0,this.$axios({method:"get",url:"/apis/member/findAddAllByMCode",params:{mCode:this.form.id,date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.addressTable=[];for(var a=0;a<t.data.data.length;a++){var l={address:t.data.data[a].addProvinceCode+"-"+t.data.data[a].addCityCode+"-"+t.data.data[a].addCountryCode+"-"+t.data.data[a].addDetial,name:t.data.data[a].consigneeName,tel:t.data.data[a].mobile,type:1==t.data.data[a].defaultAdd?"默认":"",id:t.data.data[a].aId};e.addressTable.push(l)}}else console.log("获取收货地址失败");setTimeout(function(){e.loadingTable=!1},200)})},setDefaultAddress:function(e){var t=this;this.$axios({method:"post",url:"/apis/member/defAddByAIdAndMCode",params:{aId:e.id,mCode:this.form.id,defaultAdd:1}}).then(function(e){e.data.code?t.getAddressList():console.log("设置默认地址失败")})},getSearchData:function(e){this.showArea=!0,this.form.aId=e.mId,this.form.id=e.mCode,this.form.name=e.mName,this.form.nickname=e.mNickname,this.form.sex=0==e.gender?"男":"女",this.form.email=e.email,this.form.address=[e.province,e.city,e.country],this.form.detial=e.detial,this.form.zipCode=e.addPost,this.oldForm=JSON.parse(H()(this.form)),this.getAddressList()},getAddress:function(e){this.getAddressList()},getChangeAddress:function(){this.getAddressList()}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{"status-icon":"",rules:e.rules,model:e.form,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"选择用户"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("搜索")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"邮编"}},[a("el-input",{model:{value:e.form.zipCode,callback:function(t){e.$set(e.form,"zipCode",e._n(t))},expression:"form.zipCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"inline-block",attrs:{label:"地址"}},[e.showArea?a("div",{staticClass:"area"},[a("area-select",{attrs:{type:"text",level:2,placeholders:e.placeholders,data:e.pcaa},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1):e._e()]),e._v(" "),a("el-form-item",{staticClass:"text-center inline-block",attrs:{label:"详细地址","label-width":"80px"}},[a("el-input",{staticClass:"long-input",model:{value:e.form.detial,callback:function(t){e.$set(e.form,"detial",t)},expression:"form.detial"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"收货地址"}},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addAddress}},[e._v("添加新地址")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.addressTable,border:"",size:"mini","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址列表",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"收货人",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"手机号",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"默认银行卡",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.changeAddress(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.removeAddress(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.setDefaultAddress(t.row)}}},[e._v("设为默认")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"备注",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}}})],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){e.onSubmit("form")}}},[e._v("修改")])],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{searchData:e.getSearchData,addAddress:e.getAddress,changeAddress:e.getChangeAddress}})],1)},staticRenderFns:[]};var X=a("VU/8")(G,Q,!1,function(e){a("z5BK")},null,null).exports,J={data:function(){return{bankTable:[],submitLoading:!1,loadingTable:!1,oldForm:{},form:{id:"",name:"",nickname:"",tel:"",withdrawDefault:"银行卡",desc:""},rules:{nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],tel:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(e,t,a){/^1[3|4|5|7|8][0-9]\d{8}$/.test(t)?a():a(new Error("请输入正确的电话号码"))},trigger:"blur"}]},allBankTable:[]}},methods:{onSubmit:function(e){var t=this;this.form.id?this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必整信息!",type:"error"}),!1;H()(t.form)===H()(t.oldForm)?t.$message({showClose:!0,message:"该信息已存在，请匆重复提交!",type:"error"}):(t.submitLoading=!0,t.$axios({method:"post",url:"/apis/member/updateByMBank",params:{mCode:t.form.id,mName:t.form.name,mobile:t.form.tel,mNickname:t.form.nickname,withdrawDefault:t.form.withdrawDefault,mDesc:t.form.desc}}).then(function(e){e.data.code?(t.$refs.dialog.userDefined({icon:"success",title:"您的信息已提交，请耐心等待审核！"}),t.oldForm=JSON.parse(H()(t.form))):t.$refs.dialog.userDefined({icon:"error",title:e.data.msg}),t.submitLoading=!1}))}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onSearch:function(){this.$refs.dialog.onSearchDialog()},getBankList:function(){var e=this;this.loadingTable=!0,this.$axios({method:"get",url:"/apis/member/findMBankByMCode",params:{mCode:this.form.id,date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.allBankTable=[];for(var a=t.data.data.memberBank.length,l=t.data.data.memberBank,r=0;r<a;r++){var n=l[r];e.allBankTable.push(n)}}else console.log("获取银行卡信息失败");setTimeout(function(){e.loadingTable=!1},200)})},untieBank:function(e){var t=this;this.$confirm("是否解绑银行卡?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){t.$axios({method:"get",url:"/apis/member/delBankByOid",params:{oId:e.oId,mCode:e.mCode}}).then(function(e){e.data.code?(t.$message({showClose:!0,message:"解绑银行卡成功!",type:"success"}),t.getBankList()):t.$message({showClose:!0,message:"获取修改地址失败!",type:"error"})})}).catch(function(){})},addBank:function(){this.form.id?this.$refs.dialog.showDialogBank(this.form.id):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},getSearchData:function(e){this.form.desc="",this.form.id=e.mCode,this.form.name=e.mName,this.form.tel=e.mobile,this.form.nickname=e.mNickname,this.oldForm=JSON.parse(H()(this.form)),this.getBankList()},getAddBank:function(){this.getBankList()}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{"status-icon":"",rules:e.rules,model:e.form,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"选择用户"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("搜索")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"手机号码",prop:"tel"}},[a("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1)],1),e._v(" "),[a("el-form-item",{attrs:{label:"默认收款方式","label-width":"110px"}},[a("el-radio",{attrs:{label:"银行卡"},model:{value:e.form.withdrawDefault,callback:function(t){e.$set(e.form,"withdrawDefault",t)},expression:"form.withdrawDefault"}},[e._v("银行卡")])],1)],e._v(" "),a("el-row",[a("el-col",{attrs:{span:14}},[a("el-form-item",{attrs:{label:"银行卡信息"}},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addBank}},[e._v("添加银行卡")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.allBankTable,border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"bankCode",label:"银行名称",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accCode",label:"卡号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accName",label:"账户名",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accType",label:"类型",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.untieBank(t.row)}}},[e._v("解绑")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"备注",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交审核")])],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{searchData:e.getSearchData,addBank:e.getAddBank}})],2)},staticRenderFns:[]};var Z=a("VU/8")(J,K,!1,function(e){a("gRIy")},null,null).exports,ee={data:function(){return{select:["普通会员","VIP会员","代理会员","一级代理店","二级代理店","三级代理店","旗舰店","高级旗舰店","超级旗舰店"],submitLoading:!1,loadingTableBank:!1,loadingTableAddress:!1,dialogBankList:!1,dialogAddressList:!1,showRemoveBank:!1,showRemoveAddress:!1,placeholders:["省","市","区"],pca:C.pca,pcaa:C.pcaa,allBankTable:[],allAddressTable:[],newBankTable:[{bankName:"",bankId:"",name:"",type:""}],form:{id:"",name:"",nickname:"",joinData:"",memberStatu:"",memberLevel:"",mobile:"",arrearsBalance:"",accountState:"",bonusPointsBalance:"",shoppingBalance:"",replacementBalance:"",changeName:"",IDType:"",IDNumber:"",proofMaterial:[],file:[],changeNickname:"",changeMobile:"",addAddress:[],detial:"",remarks:""},rules:{changeName:[{required:!0,message:"请输入修改后姓名",trigger:["blur","change"]}],IDType:[{required:!0,message:"请选择身份类型",trigger:["blur","change"]}],IDNumber:[{required:!0,message:"请输入证件号码",trigger:["blur","change"]}],file:[{required:!0,message:"请选择证明材料",trigger:["blur","change"]}],remarks:[{required:!0,message:"请填写备注",trigger:["blur","change"]}]}}},methods:{onSubmit:function(e){var t=this;this.form.id?this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;t.submitLoading=!0,t.$axios({method:"post",url:"/apis/member/updateIdByMCodeAndMName",params:{mCode:t.form.id,mName:t.form.name,idType:parseInt(t.form.IDType),idCode:t.form.IDNumber,mNickname:t.form.nickname,mobile:t.form.mobile,newMName:t.form.changeName,uploadPath:t.form.file.join("||"),mDesc:t.form.remarks}}).then(function(e){e.data.code?t.$refs.dialog.userDefined({icon:"success",title:"修改成功,等待审核!"}):t.$refs.dialog.userDefined({icon:"error",title:e.data.msg}),t.submitLoading=!1})}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onSearch:function(){this.$refs.dialog.onSearchDialog()},getSearchData:function(e){this.form.proofMaterial=[],this.form.file=[],this.form.addAddress=[],this.form.IDType="",this.form.changeName="",this.form.IDNumber="",this.form.changeNickname="",this.form.changeMobile="",this.form.detial="",this.form.remarks="",this.allBankTable=[],this.allAddressTable=[],this.form.id=e.mCode,this.form.IDType=e.idType.toString(),this.form.name=e.mName,this.form.nickname=e.mNickname,this.form.IDNumber=e.idCode,this.form.joinData=e.creationData,this.form.memberStatu=e.mStatus,this.form.memberLevel=e.mLevel,this.form.mobile=e.mobile,this.form.addPost=e.addPost,this.getMemberInfo(),this.getBankList(),this.getAddressList()},getMemberInfo:function(){var e=this;this.form.arrearsBalance="",this.form.accountState="",this.form.bonusPointsBalance="",this.form.shoppingBalance="",this.form.replacementBalance="",this.$axios({method:"get",url:"/apis/member/findMemAccountByMCode",params:{mCode:this.form.id,date:(new Date).getTime()}}).then(function(t){t.data.code&&(e.form.arrearsBalance=t.data.data.bonusBlance,e.form.accountState=t.data.data.bonusStatus,e.form.bonusPointsBalance=t.data.data.bonusBlance,e.form.shoppingBalance=t.data.data.walletBlance,e.form.replacementBalance=t.data.data.redemptionBlance,e.isChangeFrom=!1)})},getBankList:function(){var e=this;this.loadingTableBank=!0,this.$axios({method:"get",url:"/apis/member/findMBankByMCode",params:{mCode:this.form.id,date:(new Date).getTime()}}).then(function(t){if(0!=t.data.data.memberBank.length)for(var a in e.showRemoveBank=!0,e.allBankTable=t.data.data.memberBank,e.allBankTable)0==e.allBankTable[a].defaultBank?e.allBankTable[a].defaultBank="":e.allBankTable[a].defaultBank="默认";else e.showRemoveBank=!1;setTimeout(function(){e.loadingTableBank=!1},200)})},onDialogRemoveBank:function(){var e=this;this.form.id?this.$confirm("是否禁用所有已绑定银行卡?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){e.onRemoveBank()}).catch(function(){}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onRemoveBank:function(){var e=this;this.$axios({method:"get",url:"/apis/member/outAllBankByMCode",params:{mCode:this.form.id}}).then(function(t){t.data.code?(e.$message({showClose:!0,message:"禁用所有银行卡成功!",type:"success"}),e.allBankTable=[],e.showRemoveBank=!1,e.isChangeFrom=!0):e.$message({showClose:!0,message:"请求未响应!",type:"error"})})},addBank:function(){this.form.id?(this.$refs.dialog.showDialogBank(this.form.id),this.isChangeFrom=!0):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},setDefaultBank:function(e){var t=this;this.$axios({method:"post",url:"/apis/member/defBankByOid",params:{oId:e.oId,mCode:this.form.id,defaultBank:1}}).then(function(e){e.data.code?t.getBankList():t.$message({showClose:!0,message:"设置默认银行卡失败",type:"error"})})},getAddBank:function(){this.getBankList()},addAddress:function(){this.form.id?this.$refs.dialog.showDialogAddAddress({id:this.form.id,zipCode:this.form.addPost}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},getAddress:function(e){this.getAddressList()},getAddressList:function(){var e=this;this.loadingTableAddress=!0,this.$axios({method:"get",url:"/apis/member/findAddAllByMCode",params:{mCode:this.form.id,date:(new Date).getTime()}}).then(function(t){if(0!=t.data.data.length){e.showRemoveAddress=!0,e.allAddressTable=[],e.allAddressTable=t.data.data;for(var a=0;a<e.allAddressTable.length;a++)e.allAddressTable[a].address=e.allAddressTable[a].addProvinceCode+"-"+e.allAddressTable[a].addCityCode+"-"+e.allAddressTable[a].addCountryCode+"-"+e.allAddressTable[a].addDetial,e.allAddressTable[a].defaultAdd=0==e.allAddressTable[a].defaultAdd?"":"默认"}else e.allAddressTable=[],e.showRemoveAddress=!1;setTimeout(function(){e.loadingTableAddress=!1},200)})},setDefaultAddress:function(e){var t=this;this.$axios({method:"post",url:"/apis/member/defAddByAIdAndMCode",params:{aId:e.aId,mCode:this.form.id,defaultAdd:1}}).then(function(e){e.data.code?t.getAddressList():t.$message({showClose:!0,message:"设置默认地址失败",type:"error"})})},onDialogRemoveAddress:function(){var e=this;this.form.id?this.$confirm("禁用所有已有地址?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){e.onRemoveAddress()}).catch(function(){}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onRemoveAddress:function(){var e=this;this.$axios({method:"get",url:"/apis/member/outAllAddByMCode",params:{mCode:this.form.id}}).then(function(t){t.data.code?(e.$message({showClose:!0,message:"禁用已有地址成功!",type:"success"}),e.allAddressTable=[],e.showRemoveAddress=!1,e.isChangeFrom=!0):e.$message({showClose:!0,message:"请求未响应!",type:"error"})})},uploadSuccess:function(e){e.code&&this.form.file.push(e.data),this.$message({showClose:!0,message:"上传成功",type:"success"})},uploadError:function(){this.$message({showClose:!0,message:"服务器未响应,上传失败",type:"error"})},beforeUpload:function(e){var t="image/jpeg"==e.type||"image/png"==e.type||"image/bmp"==e.type,a=e.size/1024/1024<=5;return t||this.$message({showClose:!0,message:"只能上传png/JPG/bmp文件",type:"error"}),a||this.$message({showClose:!0,message:"单张不超过5M",type:"error"}),t&&a}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"选择用户"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("搜索")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"加入日期"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.joinData,callback:function(t){e.$set(e.form,"joinData",t)},expression:"form.joinData"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员状态"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.memberStatu,callback:function(t){e.$set(e.form,"memberStatu",t)},expression:"form.memberStatu"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"会员级别"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.memberLevel,callback:function(t){e.$set(e.form,"memberLevel",t)},expression:"form.memberLevel"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"欠款余额"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.arrearsBalance,callback:function(t){e.$set(e.form,"arrearsBalance",t)},expression:"form.arrearsBalance"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"积分账户状态"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.accountState,callback:function(t){e.$set(e.form,"accountState",t)},expression:"form.accountState"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"奖励积分余额"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.bonusPointsBalance,callback:function(t){e.$set(e.form,"bonusPointsBalance",t)},expression:"form.bonusPointsBalance"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"购物积分余额"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.shoppingBalance,callback:function(t){e.$set(e.form,"shoppingBalance",t)},expression:"form.shoppingBalance"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"换购积分余额"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.replacementBalance,callback:function(t){e.$set(e.form,"replacementBalance",t)},expression:"form.replacementBalance"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"修改后姓名",prop:"changeName"}},[a("el-input",{model:{value:e.form.changeName,callback:function(t){e.$set(e.form,"changeName",t)},expression:"form.changeName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"身份类型",prop:"IDType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.IDType,callback:function(t){e.$set(e.form,"IDType",t)},expression:"form.IDType"}},[a("el-option",{attrs:{label:"居民身份证",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"护照",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"军官照",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"港澳台回乡证",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"其它",value:"9"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"证件号码",prop:"IDNumber"}},[a("el-input",{model:{value:e.form.IDNumber,callback:function(t){e.$set(e.form,"IDNumber",t)},expression:"form.IDNumber"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.form.id,expression:"form.id"}],attrs:{label:"证明材料",prop:"file"}},[a("el-upload",{attrs:{action:"/apis/member/uploadFile","list-type":"picture",accept:".jpg, .png, .bmp","on-success":e.uploadSuccess,"on-error":e.uploadError,"file-list":e.form.proofMaterial,"before-upload":e.beforeUpload},model:{value:e.form.file,callback:function(t){e.$set(e.form,"file",t)},expression:"form.file"}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传png/JPG/bmp文件，且单张不超过5M")]),e._v(" "),a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",[a("img",{attrs:{width:"100%",alt:""}})])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"修改昵称"}},[a("el-input",{model:{value:e.form.changeNickname,callback:function(t){e.$set(e.form,"changeNickname",t)},expression:"form.changeNickname"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"修改手机号"}},[a("el-input",{model:{value:e.form.changeMobile,callback:function(t){e.$set(e.form,"changeMobile",t)},expression:"form.changeMobile"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"银行卡操作"}},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addBank}},[e._v("添加新银行卡")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showRemoveBank,expression:"showRemoveBank"}],attrs:{type:"success",size:"danger"},on:{click:e.onDialogRemoveBank}},[e._v("禁用所有已绑定银行卡")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"银行卡列表"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTableBank,expression:"loadingTableBank"}],attrs:{border:"",data:e.allBankTable,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"bankCode",label:"银行名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accCode",label:"卡号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accName",label:"账户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accType",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultBank",label:"默认银行卡",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.setDefaultBank(t.row)}}},[e._v("设为默认")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"地址操作"}},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addAddress}},[e._v("添加新地址")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showRemoveAddress,expression:"showRemoveAddress"}],attrs:{type:"danger",size:"mini"},on:{click:e.onDialogRemoveAddress}},[e._v("禁用所有已有地址")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"现有地址列表"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTableAddress,expression:"loadingTableAddress"}],attrs:{border:"",data:e.allAddressTable,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{label:"#",align:"center",type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址列表",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultAdd",label:"默认地址",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.setDefaultAddress(t.row)}}},[e._v("设为默认")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交审核")])],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{searchData:e.getSearchData,addAddress:e.getAddress,addBank:e.getAddBank}})],1)},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("OHzj")},null,null).exports,le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:"选择用户"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("搜索")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"加入日期"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.joinData,callback:function(t){e.$set(e.form,"joinData",t)},expression:"form.joinData"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员状态"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.memberStatu,callback:function(t){e.$set(e.form,"memberStatu",t)},expression:"form.memberStatu"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"会员级别"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.memberLevel,callback:function(t){e.$set(e.form,"memberLevel",t)},expression:"form.memberLevel"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"推荐人编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.refereeId,callback:function(t){e.$set(e.form,"refereeId",t)},expression:"form.refereeId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"推荐人姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.refereeName,callback:function(t){e.$set(e.form,"refereeName",t)},expression:"form.refereeName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"serch-input",attrs:{label:"新推荐人编号:",prop:"newRefereeId"}},[a("el-input",{attrs:{placeholder:"请输入编号搜索"},model:{value:e.form.newRefereeId,callback:function(t){e.$set(e.form,"newRefereeId",t)},expression:"form.newRefereeId"}}),e._v(" "),a("i",{staticClass:"el-icon-search",on:{click:e.onSearchInput}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"新推荐人姓名",prop:"newRefereeName"}},[a("el-input",{model:{value:e.form.newRefereeName,callback:function(t){e.$set(e.form,"newRefereeName",t)},expression:"form.newRefereeName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交审核")])],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{searchData:e.getSearchData}})],1)},staticRenderFns:[]};var re=a("VU/8")({data:function(){return{submitLoading:!1,isInputSearch:!1,form:{id:"",name:"",nickname:"",joinData:"",memberStatu:"",memberLevel:"",refereeId:"",refereeName:"",newRefereeId:"",newRefereeName:"",remarks:""},rules:{newRefereeId:[{required:!0,message:"请选择新推荐人编号",trigger:["blur","change"]}],newRefereeName:[{required:!0,message:"请选择新推荐人姓名",trigger:["blur","change"]}],remarks:[{required:!0,message:"请填写备注",trigger:["blur","change"]}]}}},methods:{onSubmit:function(e){var t=this;this.form.id?this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;t.submitLoading=!0,t.$axios({method:"post",url:"/apis/member/updateRelaSponByMCode",params:{mCode:t.form.id,mName:t.form.name,sponsorCode:t.form.refereeId,sponsorName:t.form.refereeName,sponsorCodeNew:t.form.newRefereeId,sponsorNameNew:t.form.newRefereeName,mDesc:t.form.remarks}}).then(function(e){e.data.code?t.$refs.dialog.userDefined({icon:"success",title:"修改成功,等待审核!"}):t.$refs.dialog.userDefined({icon:"error",title:e.data.msg}),t.submitLoading=!1})}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onSearch:function(){this.isInputSearch=!1,this.$refs.dialog.onSearchDialog()},onSearchInput:function(){this.form.id?(this.isInputSearch=!0,this.$refs.dialog.onSearchDialog(this.form.newRefereeId)):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},getSearchData:function(e){this.isInputSearch?(this.form.newRefereeId=e.mCode,this.form.newRefereeName=e.mName):(this.form.memberStatu="",this.form.memberLevel="",this.form.refereeId="",this.form.refereeName="",this.form.newRefereeId="",this.form.newRefereeName="",this.form.remarks="",this.form.id=e.mCode,this.form.name=e.mName,this.form.nickname=e.mNickname,this.form.joinData=e.creationData,this.form.memberStatu=e.mStatus,this.form.memberLevel=e.mLevel,this.form.refereeId=e.refereeId,this.form.refereeName=e.refereeName)}}},le,!1,function(e){a("mS6y")},null,null).exports,ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:"选择用户"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("搜索")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"当前级别:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.currentType,callback:function(t){e.$set(e.form,"currentType",t)},expression:"form.currentType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"调整后级别",prop:"nextType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.nextType,callback:function(t){e.$set(e.form,"nextType",t)},expression:"form.nextType"}},e._l(e.select,function(t,l){return a("el-option",{key:l,attrs:{label:t,value:t,disabled:e.form.currentType==t}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"备注",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交审核")])],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{searchData:e.getSearchData}})],1)},staticRenderFns:[]};var oe=a("VU/8")({data:function(){return{submitLoading:!1,select:["普通会员","VIP会员","代理会员","初级代理店","一级代理店","二级代理店","三级代理店","旗舰店","高级旗舰店","超级旗舰店"],form:{id:"",name:"",currentType:"",nextType:"",desc:""},rules:{nextType:[{required:!0,message:"请选择调整后级别",trigger:["blur","change"]}],desc:[{required:!0,message:"请填写备注",trigger:["blur","change"]}]}}},methods:{onSubmit:function(e){var t=this;this.form.id?this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;t.submitLoading=!0,t.$axios({method:"post",url:"/apis/member/updateRelationByMCode",params:{mCode:t.form.id,mName:t.form.name,rankName:t.form.currentType,rankNameNew:t.form.nextType,mDesc:t.form.desc}}).then(function(e){e.data.code?t.$refs.dialog.userDefined({icon:"success",title:"修改成功,等待审核!"}):t.$refs.dialog.userDefined({icon:"error",title:e.data.msg}),t.submitLoading=!1})}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onSearch:function(){this.$refs.dialog.onSearchDialog()},getSearchData:function(e){this.form.currentType="",this.form.nextType="",this.form.desc="",this.form.id=e.mCode,this.form.name=e.mName,this.form.currentType=e.mLevel}}},ne,!1,function(e){a("ZU7C")},null,null).exports,se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"110px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"选择用户"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"success"},on:{click:e.onAllBing}},[e._v("批量绑定")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[e.form.oldId?e._e():a("el-tag",{attrs:{type:"danger",size:"small",color:"transparent"}},[e._v("未绑定")]),e._v(" "),e.form.oldId?a("el-tag",{attrs:{type:"danger",size:"small",color:"transparent"}},[e._v("已绑定")]):e._e()],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.form.oldId,expression:"form.oldId"}]},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"已绑定账号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.oldId,callback:function(t){e.$set(e.form,"oldId",t)},expression:"form.oldId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"已绑定账号姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.oldName,callback:function(t){e.$set(e.form,"oldName",t)},expression:"form.oldName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.olduserId,callback:function(t){e.$set(e.form,"olduserId",t)},expression:"form.olduserId"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"serch-input",attrs:{label:"新绑定账号:",prop:"newId"}},[a("el-input",{attrs:{placeholder:"请输入编号搜索"},model:{value:e.form.newId,callback:function(t){e.$set(e.form,"newId",t)},expression:"form.newId"}}),e._v(" "),a("i",{staticClass:"el-icon-search",on:{click:e.onSearchInput}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"绑定账号姓名",prop:"newName"}},[a("el-input",{model:{value:e.form.newName,callback:function(t){e.$set(e.form,"newName",t)},expression:"form.newName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.newUserId,callback:function(t){e.$set(e.form,"newUserId",t)},expression:"form.newUserId"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"备注",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.form.oldId,expression:"!form.oldId"}]},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"推荐人姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.oldId,callback:function(t){e.$set(e.form,"oldId",t)},expression:"form.oldId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"推荐人身份证号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.oldName,callback:function(t){e.$set(e.form,"oldName",t)},expression:"form.oldName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"serch-input",attrs:{label:"新绑定账号:",prop:"newId"}},[a("el-input",{attrs:{placeholder:"请输入编号搜索"},model:{value:e.form.newId,callback:function(t){e.$set(e.form,"newId",t)},expression:"form.newId"}}),e._v(" "),a("i",{staticClass:"el-icon-search",on:{click:e.onSearchInput}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"绑定账号姓名",prop:"newName"}},[a("el-input",{model:{value:e.form.newName,callback:function(t){e.$set(e.form,"newName",t)},expression:"form.newName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"老系统推荐人"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.newUserId,callback:function(t){e.$set(e.form,"newUserId",t)},expression:"form.newUserId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"老系统推荐人身份证号","label-width":"160px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.newUserId,callback:function(t){e.$set(e.form,"newUserId",t)},expression:"form.newUserId"}})],1)],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交审核")])],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{searchData:e.getSearchData}})],1)},staticRenderFns:[]};var ie=a("VU/8")({data:function(){return{submitLoading:!1,form:{id:"",name:"",userId:"",tel:"",oldId:"",oldName:"",olduserId:"",newId:"",newName:"",newUserId:"",newUserType:"",desc:"",RefereeId:"",RefereeName:"",RefereeCode:""},rules:{newId:[{required:!0,message:"请选择新推荐人",trigger:["blur","change"]}],newName:[{required:!0,message:"请选择新推荐人",trigger:["blur","change"]}],desc:[{required:!0,message:"请填写备注",trigger:["blur","change"]}]}}},methods:{onAllBing:function(){this.form.id?this.$router.push({name:"与老会员绑量绑定",query:{code:this.form.id}}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onSubmit:function(e){var t=this;this.form.id?this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;t.submitLoading=!0,t.form.oldId?t.$axios({method:"post",url:"/apis/member/updateBindingByMCode",params:{mCode:t.form.id,mName:t.form.name,raCode:t.form.oldId,raName:t.form.oldName,raCodeNew:t.form.newId,raNameNew:t.form.newName,raIdCode:t.form.newUserId,raIdType:t.form.newUserType,mDesc:t.form.desc}}).then(function(e){e.data.code?t.$refs.dialog.userDefined({icon:"success",title:"修改成功,等待审核!"}):t.$refs.dialog.userDefined({icon:"error",title:e.data.msg}),t.submitLoading=!1}):t.$axios({method:"post",url:"/apis/member/addBinding",params:{mCode:t.form.id,rasponsorCode:t.form.RefereeId,rasponsorIdCode:t.form.RefereeCode,rasponsorName:t.form.RefereeName,raCode:t.form.newId,raName:t.form.newName,raIdType:t.form.newUserType,raIdCode:t.form.newUserId}}).then(function(e){e.data.code?t.$refs.dialog.userDefined({icon:"success",title:"修改成功,等待审核!"}):t.$refs.dialog.userDefined({icon:"error",title:e.data.msg}),t.submitLoading=!1})}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onSearch:function(){this.$refs.dialog.onSearchDialog()},onSearchInput:function(){this.form.id?(this.isInputSearch=!0,this.$refs.dialog.onSearchDialog(this.form.newRefereeId)):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},getMemberInfo:function(){var e=this;this.$axios({method:"get",url:"/apis/member/findBindingByMCode",params:{mCode:this.form.id}}).then(function(t){t.data.code&&(e.form.olduserId=t.data.data.rdRaBinding.raIdCode)})},getSearchData:function(e){this.isInputSearch?(this.form.newId=e.mCode,this.form.newName=e.mName,this.form.newUserId=e.idCode,this.form.newUserType=e.idType):(this.form.oldId="",this.form.oldName="",this.form.olduserId="",this.form.newId="",this.form.newName="",this.form.newUserId="",this.form.newUserType="",this.form.desc="",this.form.RefereeId="",this.form.RefereeName="",this.form.RefereeCode="",this.form.id=e.mCode,this.form.name=e.mName,this.form.userId=e.idCode,this.form.tel=e.mobile,this.form.oldId=e.refereeId,this.form.oldName=e.refereeName,this.getMemberInfo())}}},se,!1,function(e){a("icFX")},null,null).exports,ce={data:function(){return{submitLoading:!1,searchFrom:{currentPage:1,pageSize:5,total:null,mCode:"",mName:"",mobile:"",mNickname:""},mCode:"",tableData:[]}},methods:{onSearch:function(){var e=this;this.$axios({method:"post",url:"/apis/member/search",params:{mCode:this.$route.query.code,currentPage:1,pageSize:10,mName:"",mobile:"",mNickname:""}}).then(function(t){if(t.data.data){e.tableData=t.data.data.list;for(var a=0;a<e.tableData.length;a++)e.tableData[a].code=e.$route.query.code;e.searchFrom.total=t.data.data.total}})},onChangePage:function(e){this.searchFrom.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.searchFrom.pageSize=e,this.onSearch()},onBinding:function(){var e=this;0!=this.tableData.length?(this.submitLoading=!0,this.$axios({method:"post",url:"/apis/member/updateBindingByMCode",params:{}}).then(function(t){t.data.code?e.$refs.dialog.userDefined({icon:"success",title:"恭喜，批量绑定成功!"}):e.$refs.dialog.userDefined({icon:"error",title:t.data.msg}),e.submitLoading=!1})):this.$message({showClose:!0,message:"请先搜索用户",type:"error"})},onAllBinding:function(){},onSelect:function(e){console.log(e)},onBack:function(){this.$router.go(-1)}},created:function(){this.onSearch()}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"搜索老系统用户"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("批量搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onBinding}},[e._v("绑定选中")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onAllBinding}},[e._v("绑定全部")])],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"success"},on:{click:e.onBack}},[e._v("单个绑定")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-table",{attrs:{data:e.tableData,border:""},on:{"selection-change":e.onSelect}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"老系统会员编号",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mName",label:"姓名",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idCode",label:"身份证",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationer",label:"推荐人姓名",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationIp",label:"推荐人身份证",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8}},[a("el-pagination",{attrs:{"page-size":e.searchFrom.pageSize,layout:"total, sizes, prev, pager, next","page-sizes":[5,10,20,30],total:e.searchFrom.total,"current-page":e.searchFrom.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),a("dialog-com",{ref:"dialog"})],1)},staticRenderFns:[]};var de=a("VU/8")(ce,me,!1,function(e){a("SXAM")},null,null).exports,pe={data:function(){return{loadingTable:!0,select1:["全部","修改基本信息","修改敏感信息","会员更名","更改推荐人","更改会员级别","与老会员绑定"],select2:["全部","无需审核","待审","审核通过","已驳回"],form:{currentPage:"",id:"",name:"",type:"全部",state:"全部",time:["",""]},searchData:[],pageData:{currentPage:1,pageSize:20,total:null},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.form.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onChangeDate:function(e){e&&(this.form.time[0]=e[0].getFullYear()+"-"+(e[0].getMonth()+1)+"-"+e[0].getDate()+" "+e[0].getHours()+":"+e[0].getMinutes()+":"+e[0].getSeconds(),this.form.time[1]=e[1].getFullYear()+"-"+(e[1].getMonth()+1)+"-"+e[1].getDate()+" "+e[1].getHours()+":"+e[1].getMinutes()+":"+e[1].getSeconds())},onSearch:function(){var e=this;this.loadingTable=!0;var t="";"全部"==this.form.state?t="":"无需审核"==this.form.state?t=3:"待审"==this.form.state?t=0:"审核通过"==this.form.state?t=2:"已驳回"==this.form.state&&(t=1);var a="";"全部"==this.form.type?a="":"修改基本信息"==this.form.type?a=0:"修改敏感信息"==this.form.type?a=1:"会员更名"==this.form.type?a=2:"更改推荐人"==this.form.type?a=3:"更改会员级别"==this.form.type?a=4:"与老会员绑定"==this.form.type&&(a=5),this.$axios({method:"post",url:"/apis/member/findEditAll",params:{currentPage:this.form.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mName:this.form.name,updateType:a,reviewStatus:t,updateTimeStar:this.form.time?this.form.time[0]:"",updateTimeEnd:this.form.time?this.form.time[1]:"",date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.searchData=t.data.data.list;for(var a=0;a<e.searchData.length;a++)0==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="待审":1==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="驳回":2==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="审核通过":e.searchData[a].reviewStatus="无需审核",0==e.searchData[a].updateType?e.searchData[a].updateType="修改基本信息":1==e.searchData[a].updateType?e.searchData[a].updateType="修改敏感信息":2==e.searchData[a].updateType?e.searchData[a].updateType="会员更名":3==e.searchData[a].updateType?e.searchData[a].updateType="更改推荐人":4==e.searchData[a].updateType?e.searchData[a].updateType="更改会员级别":5==e.searchData[a].updateType?e.searchData[a].updateType="与老会员绑定":e.searchData[a].updateType="";e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onShowDetails:function(e){this.$refs.dialog.showDialoChangeDetails({data:e,showSubmit:!1})},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}},created:function(){this.onSearch()}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"80px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[a("el-form-item",{attrs:{label:"信息修改类型:","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.select1,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},e._l(e.select2,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","修改记录")}}},[e._v("导出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,border:"",id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",sortable:"",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reviewStatus",label:"审核状态",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mName",label:"会员姓名",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateType",label:"修改类型",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",sortable:"",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作人",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审批人",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateMemo",label:"修改备注",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reviewMemo",label:"审核备注",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"修改详情",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.onShowDetails(t.row)}}},[e._v("查看")])]}}])})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,40,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),a("dialog-com",{ref:"dialog"})],1)},staticRenderFns:[]};var fe=a("VU/8")(pe,ue,!1,function(e){a("53Jz")},null,null).exports,ge={data:function(){return{loadingTable:!0,form:{id:"",name:"",time:["",""]},searchData:[],pageData:{currentPage:1,pageSize:10,total:null},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.form.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onChangeDate:function(e){e&&(this.form.time[0]=e[0].getFullYear()+"-"+(e[0].getMonth()+1)+"-"+e[0].getDate()+" "+e[0].getHours()+":"+e[0].getMinutes()+":"+e[0].getSeconds(),this.form.time[1]=e[1].getFullYear()+"-"+(e[1].getMonth()+1)+"-"+e[1].getDate()+" "+e[1].getHours()+":"+e[1].getMinutes()+":"+e[1].getSeconds())},onSearch:function(){var e=this;this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/findEditStatus",params:{currentPage:this.form.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mName:this.form.name,updateType:this.form.type,reviewStatus:this.form.state,updateTimeStar:this.form.time?this.form.time[0]:"",updateTimeEnd:this.form.time?this.form.time[1]:"",date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.searchData=t.data.data.list;for(var a=0;a<e.searchData.length;a++)0==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="待审":1==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="驳回":2==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="审核通过":e.searchData[a].reviewStatus="无需审核",0==e.searchData[a].updateType?e.searchData[a].updateType="修改基本信息":1==e.searchData[a].updateType?e.searchData[a].updateType="修改敏感信息":2==e.searchData[a].updateType?e.searchData[a].updateType="会员更名":3==e.searchData[a].updateType?e.searchData[a].updateType="更改推荐人":4==e.searchData[a].updateType?e.searchData[a].updateType="更改会员级别":5==e.searchData[a].updateType?e.searchData[a].updateType="与老会员绑定":e.searchData[a].updateType="";e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},tableStyle:function(e){if(2==e.columnIndex)return"color:red"},onShowDetails:function(e){this.$refs.dialog.showDialoChangeDetails({data:e,showSubmit:!0})},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)},ChangeDetailsSuccess:function(){this.onSearch()}},created:function(){this.onSearch()}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"80px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","审核管理")}}},[e._v("导出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,border:"",id:"memberTable","cell-style":e.tableStyle,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",sortable:"",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reviewStatus",label:"审核状态",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mName",label:"会员姓名",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateType",label:"修改类型",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",sortable:"",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作人",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审批人",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateMemo",label:"修改备注",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核备注",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.onShowDetails(t.row)}}},[e._v("审核")])]}}])})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{changeDetail:e.ChangeDetailsSuccess}})],1)},staticRenderFns:[]};var be=a("VU/8")(ge,he,!1,function(e){a("eSCd")},null,null).exports,ve={data:function(){var e=this;return{DialogState:!1,DialogPassWord:!1,form:{mCode:"",name:"",nickname:"",idCode:"",tel:"",mState:"",integralState:"",rewardIntegral:"",shopIntegral:"",changeIntegral:""},stateForm:{title:"",state:"",type:"",statusAfter:null,desc:""},formPsd:{password1:"",password2:""},rules:{password1:[{validator:function(e,t,a){/^[0-9a-zA-Z_#]{6,16}$/.test(t)?a():a(new Error("请输入6-16位密码,可使用英文、数字、符号_#"))},trigger:["blur","change"]}],password2:[{validator:function(t,a,l){e.formPsd.password1!=a?l(new Error("两次密码不一样，请重新输入!")):l()},trigger:["blur","change"]}]}}},methods:{onSearch:function(){this.$refs.dialog.onSearchDialog()},DialogConfirm:function(e,t){this.stateForm.statusAfter=null,this.stateForm.desc="",this.DialogState=!0,this.stateForm.state=e,this.stateForm.type=t,0==this.stateForm.state?"冻结"==t?(this.stateForm.title="确认冻结该用户?",this.stateForm.statusAfter=1):"解冻"==t?(this.stateForm.title="确认解冻该用户?",this.stateForm.statusAfter=0):"注销"==t&&(this.stateForm.title="确认注销该用户?",this.stateForm.statusAfter=2):"冻结"==t?(this.title="确认冻结该用户积分?",this.stateForm.statusAfter=1):"解冻"==t?(this.title="确认解冻该用户积分?",this.stateForm.statusAfter=0):"注销"==t&&(this.title="确认注销该用户积分?",this.stateForm.statusAfter=2)},onConfirm:function(){var e=this,t=null;t=0==this.stateForm.state?"注销"==this.form.mState?2:"正常"==this.form.mState?0:1:"正常"==this.form.integralState?0:"冻结"==this.form.integralState?1:2,this.$axios({method:"post",url:"/apis/member/updateStatusByMCode",params:{mCode:this.form.mCode,mNickname:this.form.nickname,statusType:0==this.stateForm.state?"MM":"MR",statusBefore:t,statusAfter:this.stateForm.statusAfter,updateDesc:this.stateForm.desc}}).then(function(t){t.data.code?e.$message({showClose:!0,message:e.stateForm.type+"成功",type:"success"}):e.$message({showClose:!0,message:t.data.msg,type:"error"})}),setTimeout(function(){e.DialogState=!1},200)},onReset:function(){this.form.mCode?this.$confirm("确认要重置密码?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){}).catch(function(){}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},showDialogChange:function(){this.form.mCode?this.DialogPassWord=!0:this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onChangePassWord:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1})},getSearchData:function(e){var t=this;this.form={mCode:e.mCode,name:e.mName,nickname:e.mNickname,idCode:e.idCode,tel:e.mobile,mState:e.mStatus,integralState:"",rewardIntegral:"",shopIntegral:"",changeIntegral:""},this.$axios({method:"get",url:"/apis/member/findMemAccountByMCode",params:{mCode:this.form.mCode,date:(new Date).getTime()}}).then(function(e){e.data.code&&(t.form.integralState=0==e.data.data.bonusStatus?"正常":1==e.data.data.bonusStatus?"冻结":"未激活",t.form.rewardIntegral=e.data.data.bonusBlance,t.form.shopIntegral=e.data.data.walletBlance,t.form.changeIntegral=e.data.data.redemptionBlance)})}}},_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"选择用户"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("搜索")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"会员昵称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.idCode,callback:function(t){e.$set(e.form,"idCode",t)},expression:"form.idCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员状态"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mState,callback:function(t){e.$set(e.form,"mState",t)},expression:"form.mState"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:""!=e.form.mCode,expression:"form.mCode!=''"}],staticStyle:{"margin-left":"-40px"},attrs:{span:4}},[a("el-form-item",[a("el-button",{attrs:{type:"success",disabled:"冻结"==e.form.mState,size:"mini"},on:{click:function(t){e.DialogConfirm(0,"冻结")}}},[e._v("冻 结")]),e._v(" "),a("el-button",{attrs:{type:"warning",disabled:"正常"==e.form.mState,size:"mini"},on:{click:function(t){e.DialogConfirm(0,"解冻")}}},[e._v("解 冻")]),e._v(" "),a("el-button",{attrs:{type:"danger",disabled:"注销"==e.form.mState,size:"mini"},on:{click:function(t){e.DialogConfirm(0,"注销")}}},[e._v("注 销")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"密码重置"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onReset}},[e._v("重 置")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"积分状态"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.integralState,callback:function(t){e.$set(e.form,"integralState",t)},expression:"form.integralState"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:""!=e.form.mCode,expression:"form.mCode!=''"}],staticStyle:{"margin-left":"-40px"},attrs:{span:4}},[a("el-form-item",[a("el-button",{attrs:{type:"success",disabled:"冻结"==e.form.integralState,size:"mini"},on:{click:function(t){e.DialogConfirm(1,"冻结")}}},[e._v("冻 结")]),e._v(" "),a("el-button",{attrs:{type:"warning",disabled:"未激活"==e.form.integralState,size:"mini"},on:{click:function(t){e.DialogConfirm(1,"解冻")}}},[e._v("解 冻")]),e._v(" "),a("el-button",{attrs:{type:"danger",disabled:"注销"==e.form.integralState,size:"mini"},on:{click:function(t){e.DialogConfirm(1,"注销")}}},[e._v("注 销")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"奖励积分"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.rewardIntegral,callback:function(t){e.$set(e.form,"rewardIntegral",t)},expression:"form.rewardIntegral"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"购物积分"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.shopIntegral,callback:function(t){e.$set(e.form,"shopIntegral",t)},expression:"form.shopIntegral"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"换购积分"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.changeIntegral,callback:function(t){e.$set(e.form,"changeIntegral",t)},expression:"form.changeIntegral"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"支付密码修改","label-width":"100px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showDialogChange}},[e._v("修 改")])],1)],1)],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{searchData:e.getSearchData}}),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.DialogState,width:"400px",center:""},on:{"update:visible":function(t){e.DialogState=t}}},[a("p",[a("b",[e._v(e._s(e.stateForm.title))])]),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"填入理由:","label-width":"75px"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:e.stateForm.desc,callback:function(t){e.$set(e.stateForm,"desc",t)},expression:"stateForm.desc"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.DialogState=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onConfirm}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改支付密码",visible:e.DialogPassWord,width:"400px",center:""},on:{"update:visible":function(t){e.DialogPassWord=t}}},[a("el-form",{ref:"formPsd",attrs:{"status-icon":"",rules:e.rules,model:e.formPsd,"label-width":"90px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"支付密码:",prop:"password1"}},[a("el-input",{attrs:{type:"password"},model:{value:e.formPsd.password1,callback:function(t){e.$set(e.formPsd,"password1",t)},expression:"formPsd.password1"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"再次输入:",prop:"password2"}},[a("el-input",{attrs:{type:"password"},model:{value:e.formPsd.password2,callback:function(t){e.$set(e.formPsd,"password2",t)},expression:"formPsd.password2"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.DialogPassWord=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onChangePassWord("formPsd")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var De=a("VU/8")(ve,_e,!1,function(e){a("0bsR")},null,null).exports,we={data:function(){return{form:{id:"",name:"",timeStart:[],timeEnd:[]},loadingTable:!1,searchData:[],pageData:{currentPage:1,pageSize:10,total:null},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.searchData=[],this.loadingTable=!0;var t="";t=this.form.time&&""!=this.form.time[0]?this.form.time[0]+"/"+this.form.time[1]:"",this.$axios({method:"post",url:"/apis/member/findStatusDetailAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mNickname:this.form.name,statusTimeS:t,statusType:"MM",date:(new Date).getTime()}}).then(function(t){if(t.data.code){for(var a=t.data.data.list,l=0;l<a.length;l++)0==a[l].statusBefore?a[l].statusBefore="正常":1==a[l].statusBefore?a[l].statusBefore="冻结":2==a[l].statusBefore&&(a[l].statusBefore="注销"),0==a[l].statusAfter?a[l].statusAfter="正常":1==a[l].statusAfter?a[l].statusAfter="冻结":2==a[l].statusAfter&&(a[l].statusAfter="注销");e.searchData=a,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onChangeDate:function(e){if(e){var t=e[0].getMonth()+1<10?"0"+(e[0].getMonth()+1):e[0].getMonth()+1,a=e[1].getMonth()+1<10?"0"+(e[1].getMonth()+1):e[1].getMonth()+1,l=e[0].getDate()<10?"0"+e[0].getDate():e[0].getDate(),r=e[1].getDate()<10?"0"+e[1].getDate():e[1].getDate();this.form.time[0]=e[0].getFullYear()+"-"+t+"-"+l,this.form.time[1]=e[1].getFullYear()+"-"+a+"-"+r}},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}},created:function(){this.onSearch()}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"周期时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","会员冻结注销记录")}}},[e._v("导 出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusBefore",label:"修改前状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusAfter",label:"修改后状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateBy",label:"操作人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateDesc",label:"修改备注",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]},ke=a("VU/8")(we,ye,!1,null,null,null).exports,Ce={data:function(){return{form:{id:"",name:"",timeStart:[],timeEnd:[]},loadingTable:!1,searchData:[],pageData:{currentPage:1,pageSize:10,total:null},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.searchData=[],this.loadingTable=!0;var t="";t=this.form.time&&""!=this.form.time[0]?this.form.time[0]+"/"+this.form.time[1]:"",this.$axios({method:"post",url:"/apis/member/findStatusDetailAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mNickname:this.form.name,statusTimeS:t,statusType:"MR",date:(new Date).getTime()}}).then(function(t){if(t.data.code){for(var a=t.data.data.list,l=0;l<a.length;l++)0==a[l].statusBefore?a[l].statusBefore="正常":1==a[l].statusBefore?a[l].statusBefore="冻结":2==a[l].statusBefore&&(a[l].statusBefore="注销"),0==a[l].statusAfter?a[l].statusAfter="正常":1==a[l].statusAfter?a[l].statusAfter="冻结":2==a[l].statusAfter&&(a[l].statusAfter="注销");e.searchData=a,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onChangeDate:function(e){if(e){var t=e[0].getMonth()+1<10?"0"+(e[0].getMonth()+1):e[0].getMonth()+1,a=e[1].getMonth()+1<10?"0"+(e[1].getMonth()+1):e[1].getMonth()+1,l=e[0].getDate()<10?"0"+e[0].getDate():e[0].getDate(),r=e[1].getDate()<10?"0"+e[1].getDate():e[1].getDate();this.form.time[0]=e[0].getFullYear()+"-"+t+"-"+l,this.form.time[1]=e[1].getFullYear()+"-"+a+"-"+r}},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}},created:function(){this.onSearch()}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"周期时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","会员冻结注销记录")}}},[e._v("导 出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusBefore",label:"修改前状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusAfter",label:"修改后状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateBy",label:"操作人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateDesc",label:"修改备注",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]},Se=a("VU/8")(Ce,xe,!1,null,null,null).exports,Te={data:function(){var e=this;return{loadingTable:!1,DialogChange:!1,DialogAdd:!1,DialogSwitch:!1,isStarted:!1,cycleDelete:"",tableData:[],pageData:{currentPage:1,pageSize:10,total:null},formChange:{computingCycle:"",selectStart:"",selectEnd:"",dateStart:"",dateEnd:""},formAdd:{year:"",computingCycle:"",prePeriod:"",selectStart:"",dateStart:"",dateEnd:""},formSwitch:{computingCycle:"",desc:""},rules:{year:[{required:!0,message:"请选择年份",trigger:"blur"}],dateStart:[{required:!0,message:"请选择开始时间",trigger:"blur"}],dateEnd:[{required:!0,message:"请选择结束时间",trigger:"blur"}]},yearOpt:{disabledDate:function(e){var t=(new Date).getTime()+31536e6;return e.getTime()<new Date||e.getTime()>=t}},startDateAdd:{disabledDate:function(t){var a=e.formAdd.dateEnd.split("-"),l=e.formAdd.selectStart.split("-");return t.getTime()>=new Date(a[0],a[1]-1,a[2])||t.getTime()<=new Date(l[0],l[1]-1,l[2])}},endDateAdd:{disabledDate:function(t){var a=e.formAdd.dateStart.split("-");return t.getTime()<=new Date(a[0],a[1]-1,a[2])}},startDateChange:{disabledDate:function(t){var a=e.formChange.dateEnd.split("-"),l=e.formChange.selectStart.split("-");return t.getTime()<=new Date(l[0],l[1]-1,l[2])||t.getTime()>=new Date(a[0],a[1]-1,a[2])}},endDateChange:{disabledDate:function(t){var a=e.formChange.dateStart.split("-");if(""!=e.formChange.selectEnd){var l=e.formChange.selectEnd.split("-");return t.getTime()<=new Date(a[0],a[1]-1,a[2])||t.getTime()>=new Date(l[0],l[1]-1,l[2])}return t.getTime()<=new Date(a[0],a[1]-1,a[2])}}}},methods:{onSearch:function(){var e=this;this.loadingTable=!0,this.$axios({method:"get",url:"/apis/member/findPeriodAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total;for(var a=t.data.data.list,l=0;l<a.length;l++)a[l].beginDate=a[l].beginDate.slice(0,10),a[l].endDate=a[l].endDate.slice(0,10),0==a[l].calStatus?a[l].calStatus="未开始":1==a[l].calStatus?a[l].calStatus="计算中":2==a[l].calStatus?a[l].calStatus="临时发布核对中":3==a[l].calStatus&&(a[l].calStatus="正式发布"),0==a[l].salesStatus?a[l].salesStatus="未开始":1==a[l].salesStatus?a[l].salesStatus="已开始":2==a[l].salesStatus?a[l].salesStatus="外部关闭补录中":3==a[l].salesStatus&&(a[l].salesStatus="已关闭"),0==a[l].bonusStatus?a[l].bonusStatus="未放出":1==a[l].bonusStatus&&(a[l].bonusStatus="已放出");e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.tableData=t.data.data.list}setTimeout(function(){e.loadingTable=!1},200)})},onChangePage:function(e){this.form.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},showDialogAdd:function(){if(this.DialogAdd=!0,this.tableData.length>0){var e=parseInt(this.tableData[0].periodCode/100),t=parseInt(this.tableData[0].periodCode.substr(4,2))+1;this.formAdd.computingCycle=""+e+t,this.formAdd.selectStart=this.tableData[0].endDate,this.formAdd.prePeriod=this.tableData[0].periodCode,this.formAdd.year=String(e)}else{var a=new Date;this.formAdd.computingCycle=a.getFullYear()+"01",this.formAdd.selectStart=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),this.formAdd.prePeriod=a.getFullYear()+"00",this.formAdd.year=String(a.getFullYear())}this.formAdd.dateStart="",this.formAdd.dateEnd=""},onChangeYear:function(e){for(var t=!1,a=0;a<this.tableData.length;a++){if(parseInt(this.tableData[0].periodCode/100)!=e){t=!0;break}}if(e!=(new Date).getFullYear()&&t)this.formAdd.computingCycle=e+"01";else{var l=parseInt(this.tableData[0].periodCode.substr(4,2))+1;this.formAdd.computingCycle=""+e+l}},onAddCycle:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必整信息!",type:"error"}),!1;t.$axios({method:"post",url:"/apis/member/addPeriod",params:{periodCode:t.formAdd.computingCycle,beginDateS:t.formAdd.dateStart,endDateS:t.formAdd.dateEnd,prePeriod:t.formAdd.prePeriod}}).then(function(e){e.data.code?(t.$message({showClose:!0,message:"添加周期成功!",type:"success"}),t.onSearch()):t.$message({showClose:!0,message:e.data.msg,type:"error"}),t.DialogAdd=!1})})},showDialogChange:function(e,t){this.formChange.selectStart="",this.formChange.selectEnd="",this.DialogChange=!0,"已开始"==e.salesStatus?this.isStarted=!0:this.isStarted=!1,0!=t?(this.formChange.selectStart=this.tableData[t+1].endDate,this.formChange.selectEnd=this.tableData[t-1].beginDate):this.formChange.selectStart=this.tableData[t+1].endDate,this.formChange.computingCycle=e.periodCode,this.formChange.dateStart=e.beginDate,this.formChange.dateEnd=e.endDate},onChangeCycle:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必整信息!",type:"error"}),!1;t.$axios({method:"post",url:"/apis/member/editPeriod",params:{periodCode:t.formChange.computingCycle,beginDateS:t.formChange.dateStart,endDateS:t.formChange.dateEnd}}).then(function(e){e.data.code?(t.$message({showClose:!0,message:"修改周期成功!",type:"success"}),t.onSearch()):t.$message({showClose:!0,message:e.data.msg,type:"error"}),t.DialogChange=!1})})},showDialogSwitch:function(e){this.DialogSwitch=!0,this.formSwitch.computingCycle=e.periodCode,this.formSwitch.desc=""},onSwitchCycle:function(e){var t=this;this.$axios({method:"post",url:"/apis/member/editPeriodStatu",params:{periodCode:this.formSwitch.computingCycle,updateMemo:this.formSwitch.desc}}).then(function(e){e.data.code?(t.$message({showClose:!0,message:"切换周期状态成功!",type:"success"}),t.onSearch()):t.$message({showClose:!0,message:e.data.msg,type:"error"}),t.DialogSwitch=!1})},showDialogDelete:function(e){var t=this;this.cycleDelete=e.periodCode,this.$confirm("是否删除该周期?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){t.onDelete()}).catch(function(){})},onDelete:function(){var e=this;this.$axios({method:"get",url:"/apis/member/delPeriod",params:{periodCode:this.cycleDelete}}).then(function(t){t.data.code?(e.$message({showClose:!0,message:"删除周期成功!",type:"success"}),e.onSearch()):e.$message({showClose:!0,message:t.data.msg,type:"error"})})}},created:function(){this.onSearch()}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:24,align:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showDialogAdd}},[e._v("添加周期")])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"periodCode",label:"计算周期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"beginDate",label:"开始时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"结束时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salesStatus",label:"业绩状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"calStatus",label:"奖金状态",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"calTimes",label:"计算次数",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusStatus",label:"发放状态",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success",disabled:"已关闭"==e.tableData[t.$index].salesStatus},on:{click:function(a){e.showDialogChange(t.row,t.$index)}}},[e._v("修改周期")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"warning",disabled:"未开始"!=e.tableData[t.$index].calStatus},on:{click:function(a){e.showDialogSwitch(t.row)}}},[e._v("切换")]),e._v(" "),a("el-button",{staticClass:"delete",attrs:{size:"mini",type:"danger",disabled:"已关闭"==e.tableData[t.$index].salesStatus},on:{click:function(a){e.showDialogDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"确认修改该周期",visible:e.DialogChange,width:"450px",center:""},on:{"update:visible":function(t){e.DialogChange=t}}},[a("el-form",{ref:"formChange",attrs:{"status-icon":"",model:e.formChange,rules:e.rules,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"计算周期"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formChange.computingCycle,callback:function(t){e.$set(e.formChange,"computingCycle",t)},expression:"formChange.computingCycle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间",prop:"dateStart"}},[a("el-date-picker",{attrs:{"picker-options":e.startDateChange,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期",disabled:e.isStarted},model:{value:e.formChange.dateStart,callback:function(t){e.$set(e.formChange,"dateStart",t)},expression:"formChange.dateStart"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间",prop:"dateEnd"}},[a("el-date-picker",{attrs:{"picker-options":e.endDateChange,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formChange.dateEnd,callback:function(t){e.$set(e.formChange,"dateEnd",t)},expression:"formChange.dateEnd"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.DialogChange=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onChangeCycle("formChange")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"是否添加该周期",visible:e.DialogAdd,width:"450px",center:""},on:{"update:visible":function(t){e.DialogAdd=t}}},[a("el-form",{ref:"formAdd",attrs:{"status-icon":"",rules:e.rules,model:e.formAdd,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"选择年份",prop:"year"}},[a("el-date-picker",{attrs:{"picker-options":e.yearOpt,"value-format":"yyyy",format:"yyyy",type:"year",placeholder:"选择年份"},on:{change:e.onChangeYear},model:{value:e.formAdd.year,callback:function(t){e.$set(e.formAdd,"year",t)},expression:"formAdd.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计算周期"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formAdd.computingCycle,callback:function(t){e.$set(e.formAdd,"computingCycle",t)},expression:"formAdd.computingCycle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间",prop:"dateStart"}},[a("el-date-picker",{attrs:{"picker-options":e.startDateAdd,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formAdd.dateStart,callback:function(t){e.$set(e.formAdd,"dateStart",t)},expression:"formAdd.dateStart"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间",prop:"dateEnd"}},[a("el-date-picker",{attrs:{"picker-options":e.endDateAdd,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formAdd.dateEnd,callback:function(t){e.$set(e.formAdd,"dateEnd",t)},expression:"formAdd.dateEnd"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.DialogAdd=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onAddCycle("formAdd")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"是否切换周期状态？",visible:e.DialogSwitch,width:"450px",center:""},on:{"update:visible":function(t){e.DialogSwitch=t}}},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"填入理由"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4}},model:{value:e.formSwitch.desc,callback:function(t){e.$set(e.formSwitch,"desc",t)},expression:"formSwitch.desc"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.DialogSwitch=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSwitchCycle("formSwitch")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Pe=a("VU/8")(Te,$e,!1,function(e){a("VJml")},"data-v-38ddb45d",null).exports,Ie={data:function(){return{loadingTable:!1,tableData:[],pageData:{currentPage:1,pageSize:10,total:null},periodCode:""}},methods:{onSearch:function(){var e=this;this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/findPeriodLogAll",params:{periodCode:this.periodCode,currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,date:(new Date).getTime()}}).then(function(t){if(t.data.code)for(var a in e.pageData.total=t.data.data.total,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.tableData=t.data.data.list,e.tableData)"SALES_STATUS"==e.tableData[a].actionCode?e.tableData[a].actionCode="业绩状态":"CAL_STATUS"==e.tableData[a].actionCode?e.tableData[a].actionCode="奖金状态":"BONUS_STATUS"==e.tableData[a].actionCode&&(e.tableData[a].actionCode="发放状态");setTimeout(function(){e.loadingTable=!1},200)})},onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()}},created:function(){this.onSearch()}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"业务周期"}},[a("el-input",{attrs:{clearable:"",placeholder:"输入周期"},model:{value:e.periodCode,callback:function(t){e.periodCode=t},expression:"periodCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"periodCode",label:"计算周期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actionCode",label:"切换状态类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"valBefoerDesc",label:"切换前状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"valAfterDesc",label:"切换后状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateBy",label:"切换人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateMemo",label:"修改备注",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]},ze=a("VU/8")(Ie,Be,!1,null,null,null).exports,Ne={data:function(){return{Dialog:!1,periodCode:"",selectItem:[],data:{},salesStatus:"",qualification:"",achievement:"",title:"",timer:null}},methods:{onFocus:function(e){window.clearInterval(this.timer)},selectChange:function(e){window.clearInterval(this.timer),this.periodCode=e,this.onStatus()},onStatus:function(){var e=this;this.$axios({method:"post",url:"/apis/member/findQualificationAll",params:{periodCode:this.periodCode,currentPage:1,pageSize:100,date:(new Date).getTime()}}).then(function(t){e.salesStatus="还未统计",t.data.code?(e.qualification="统计完成",e.achievement="统计完成"):(e.qualification="还未统计",e.achievement="还未统计")})},onSearch:function(){var e=this;this.selectItem=[],this.$axios({method:"get",url:"/apis/member/findPeriodAll",params:{currentPage:1,pageSize:1e3,date:(new Date).getTime()}}).then(function(t){if(t.data.code){for(var a in e.list=t.data.data.list,e.list)e.list[a].salesStatus>=2&&e.selectItem.push(e.list[a].periodCode);e.periodCode=e.selectItem[0]}e.onStatus()})},DialogBack:function(e){var t=this;this.$confirm("是否回滚"+e+"?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){t.onBack()}).catch(function(){})},onBack:function(){var e=this,t="";"本期会员资格表"==this.title?t="backNowPeriodQualf":"本期会员业绩表"==this.title&&(t="backNowPeriod"),this.$axios({method:"get",url:"/apis/member/"+t,params:{periodCode:this.periodCode}}).then(function(t){t.data.code?(e.$message({showClose:!0,message:t.data.msg,type:"success"}),e.onSearch()):e.$message({showClose:!0,message:t.data.msg,type:"error"})})},updata:function(){var e=this;this.timer=window.setInterval(function(){e.onSearch()},3e3)}},created:function(){this.onSearch()},destroyed:function(){window.clearInterval(this.timer)}},Ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",[a("el-form-item",{attrs:{label:"当前周期"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectChange,focus:e.onFocus},model:{value:e.periodCode,callback:function(t){e.periodCode=t},expression:"periodCode"}},e._l(e.selectItem,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("h4",[e._v("业绩状态检查")]),e._v(" "),a("p",[e._v(e._s(e.salesStatus))]),e._v(" "),a("div",{staticClass:"botom-btn"},[a("router-link",{attrs:{tag:"a",target:"_blank",to:"/perStatus"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updata}},[e._v("查 看")])],1)],1)])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("h4",[e._v("本期会员资格表")]),e._v(" "),a("p",[e._v(e._s(e.qualification))]),e._v(" "),a("div",{staticClass:"botom-btn"},[a("el-button",{attrs:{type:"success",disabled:"统计完成"!=e.qualification||"统计完成"==e.achievement},on:{click:function(t){e.DialogBack("本期会员资格表")}}},[e._v("回 滚")]),e._v(" "),a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/qualification",query:{periodCode:e.periodCode}}}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updata}},[e._v("查 看")])],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("h4",[e._v("本期会员业绩表")]),e._v(" "),a("p",[e._v(e._s(e.achievement))]),e._v(" "),a("div",{staticClass:"botom-btn"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.DialogBack("本期会员业绩表")}}},[e._v("回 滚")]),e._v(" "),a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/achievement",query:{periodCode:e.periodCode}}}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updata}},[e._v("查 看")])],1)],1)])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("h4",[e._v("本期会员奖金表")]),e._v(" "),a("p",[e._v("还未统计")]),e._v(" "),a("div",{staticClass:"botom-btn"},[a("el-button",{attrs:{type:"success"}},[e._v("回 滚")]),e._v(" "),a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/bonus",query:{periodCode:e.periodCode}}}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updata}},[e._v("查 看")])],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("h4",[e._v("奖金表审核")]),e._v(" "),a("p",[e._v("还未统计")]),e._v(" "),a("div",{staticClass:"botom-btn"},[a("el-button",{attrs:{type:"success"}},[e._v("回 滚")]),e._v(" "),a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/toExamineC",query:{periodCode:e.periodCode}}}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updata}},[e._v("查 看")])],1)],1)])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("h4",[e._v("奖金发放表")]),e._v(" "),a("p",[e._v("还未统计")]),e._v(" "),a("div",{staticClass:"botom-btn"},[a("el-button",{attrs:{type:"success"}},[e._v("回 滚")]),e._v(" "),a("router-link",{attrs:{tag:"a",target:"_blank",to:{path:"/grant",query:{periodCode:e.periodCode}}}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updata}},[e._v("查 看")])],1)],1)])],1)],1)],1)},staticRenderFns:[]};var Me=a("VU/8")(Ne,Ae,!1,function(e){a("nnlA")},"data-v-98b4061e",null).exports,Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:13}},[a("span",[e._v("当前会员周期："),a("b",[e._v("201808")])])]),e._v(" "),a("el-col",{attrs:{span:5,align:"right"}},[a("el-button",{on:{click:e.back}},[e._v("返 回")]),e._v(" "),a("el-button",{attrs:{type:"primary"}},[e._v("关闭业绩")]),e._v(" "),a("el-button",{attrs:{type:"primary"}},[e._v("计 算")])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,"element-loading-text":"正在计算中,请勿请行其它操作！","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"",label:"业务周期",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"新人数",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"业绩人数",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"业绩内订单数",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"上期转入订单数",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"本期有效订单",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"本期新订单未付款",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"本期总销售额",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"本期总PV",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"",label:"订单号",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"会员编号",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"业绩人数",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"订单类型",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"下单时间",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"支付时间",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"是否付款",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"应付金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"实付金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"PV值",sortable:"",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]},Fe=a("VU/8")({data:function(){return{loadingTable:!1,form:{id:"",name:""},tableData:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:{onChangePage:function(e){this.form.currentPage=e},handleSizeChange:function(e){this.pageData.pageSize=e},onShowDetails:function(e){},back:function(){this.$router.go(-1)}},created:function(){}},Re,!1,null,null,null).exports,Ee={data:function(){return{submitDisable:!1,showOrphan:!0,showAll:!1,OrphanNum:0,achNum:0,sum:0,loadingTable:!1,periodCode:"",tableData:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:{onSearch:function(){var e=this;this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/findQualificationAll",params:{periodCode:this.periodCode,currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,date:(new Date).getTime()}}).then(function(t){if(e.OrphanNum=0,e.achNum=0,e.sum=0,t.data.code)for(var a in e.tableData=t.data.data.list,e.pageData.total=t.data.data.total,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.tableData=t.data.data.list,e.tableData)e.achNum++,e.sum+=e.tableData[0].retailFinal,0==e.tableData[a].mStatus?e.tableData[a].mStatus="注销":1==e.tableData[a].mStatus?e.tableData[a].mStatus="正常":2==e.tableData[a].mStatus&&(e.tableData[a].mStatus="冻结"),0==e.tableData[a].raStatus?e.tableData[a].raStatus="未绑定":1==e.tableData[a].raStatus&&(e.tableData[a].raStatus="已绑定"),0==e.tableData[a].raShopYn?e.tableData[a].raShopYn="未开店":1==e.tableData[a].raShopYn&&(e.tableData[a].raShopYn="已开店"),0==e.tableData[a].rankInit?e.tableData[a].rankInit="普通会员":1==e.tableData[a].rankInit?e.tableData[a].rankInit="VIP会员":2==e.tableData[a].rankInit?e.tableData[a].rankInit="代理会员":3==e.tableData[a].rankInit?e.tableData[a].rankInit="初级代理店":4==e.tableData[a].rankInit?e.tableData[a].rankInit="一级代理店":5==e.tableData[a].rankInit?e.tableData[a].rankInit="二级代理店":6==e.tableData[a].rankInit?e.tableData[a].rankInit="三级代理店":7==e.tableData[a].rankInit?e.tableData[a].rankInit="旗舰店":8==e.tableData[a].rankInit?e.tableData[a].rankInit="高级旗舰店":9==e.tableData[a].rankInit&&(e.tableData[a].rankInit="超级旗舰店"),0==e.tableData[a].rank?e.tableData[a].rank="普通会员":1==e.tableData[a].rank?e.tableData[a].rank="VIP会员":2==e.tableData[a].rank?e.tableData[a].rank="代理会员":3==e.tableData[a].rank?e.tableData[a].rank="初级代理店":4==e.tableData[a].rank?e.tableData[a].rank="一级代理店":5==e.tableData[a].rank?e.tableData[a].rank="二级代理店":6==e.tableData[a].rank?e.tableData[a].rank="三级代理店":7==e.tableData[a].rank?e.tableData[a].rank="旗舰店":8==e.tableData[a].rank?e.tableData[a].rank="高级旗舰店":9==e.tableData[a].rank&&(e.tableData[a].rank="超级旗舰店"),0==e.tableData[a].ppvqualified?e.tableData[a].ppvqualified="不合格":1==e.tableData[a].ppvqualified&&(e.tableData[a].ppvqualified="合格"),0==e.tableData[a].orphan?(e.tableData[a].orphan="是",e.OrphanNum++):e.tableData[a].orphan="否";setTimeout(function(){e.loadingTable=!1},200)})},onCount:function(){var e=this;this.loadingTable=!0,this.$axios({method:"get",url:"/apis/member/countNowQualification",params:{periodCode:this.periodCode}}).then(function(t){t.data.code?setTimeout(function(){e.$message({showClose:!0,message:"计算成功！",type:"success"}),e.onSearch()},1e3):(e.$message({showClose:!0,message:t.data.msg,type:"error"}),e.loadingTable=!1)})},onOrphan:function(){var e=[];for(var t in this.tableData)"是"==this.tableData[t].orphan&&e.push(this.tableData[t]);this.tableData=e,this.showOrphan=!1,this.showAll=!0},onAll:function(){this.onSearch(),this.showAll=!1,this.showOrphan=!0},onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()}},created:function(){this.periodCode=this.$route.query.periodCode,this.onSearch()},updated:function(){0==this.tableData.length?this.submitDisable=!1:this.submitDisable=!0}},Le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{staticClass:"top-title",attrs:{span:14}},[a("span",[e._v("当前会员周期："),a("b",[e._v(e._s(e.periodCode))])]),e._v(" "),a("span",[e._v("孤儿数："+e._s(e.OrphanNum))]),e._v(" "),a("span",[e._v("业绩人数："+e._s(e.achNum))]),e._v(" "),a("span",[e._v("总金额："+e._s(e.sum))])]),e._v(" "),a("el-col",{attrs:{span:4,align:"right"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showOrphan,expression:"showOrphan"}],attrs:{type:"success"},on:{click:e.onOrphan}},[e._v("显示孤儿")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showAll,expression:"showAll"}],attrs:{type:"success"},on:{click:e.onAll}},[e._v("显示全部")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.submitDisable},on:{click:e.onCount}},[e._v("计 算")])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,"element-loading-text":"请勿关闭或刷新页面,正在计算中。。。","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",fixed:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mName",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sponsorCode",label:"推荐人编号",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sponsorName",label:"推荐人姓名",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mStatus",label:"会员状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"raStatus",label:"关联公司绑定状态",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"raShopYn",label:"开店状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rankInit",label:"期初个人级别",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ppv",label:"当期个人购买PV",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ppvRetail",label:"当期个人零售PV",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appvInit",label:"初期个人积累PV",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appvFinal",label:"期末个人累计PV",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"retailInit",label:"个人零售购买的期初值",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"retail",label:"个人零售购买额",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"retailFinal",label:"个人零售购买的期末值",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ppvqualified",label:"个人消费是否合格",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rank",label:"个人级别升级",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orphan",label:"是否孤儿",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var je=a("VU/8")(Ee,Le,!1,function(e){a("wfaE")},"data-v-2c3d4b86",null).exports,Ve={data:function(){return{submitDisable:!1,loadingTable:!1,periodCode:"",number:0,form:{id:"",name:""},tableData:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:{onSearch:function(){var e=this;this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/findQualificationAll",params:{periodCode:this.periodCode,currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,date:(new Date).getTime()}}).then(function(t){if(t.data.code)for(var a in e.tableData=t.data.data.list,e.pageData.total=t.data.data.total,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.tableData=t.data.data.list,e.tableData)e.number++,0==e.tableData[a].rankInit?e.tableData[a].rankInit="普通会员":1==e.tableData[a].rankInit?e.tableData[a].rankInit="VIP会员":2==e.tableData[a].rankInit?e.tableData[a].rankInit="代理会员":3==e.tableData[a].rankInit?e.tableData[a].rankInit="初级代理店":4==e.tableData[a].rankInit?e.tableData[a].rankInit="一级代理店":5==e.tableData[a].rankInit?e.tableData[a].rankInit="二级代理店":6==e.tableData[a].rankInit?e.tableData[a].rankInit="三级代理店":7==e.tableData[a].rankInit?e.tableData[a].rankInit="旗舰店":8==e.tableData[a].rankInit?e.tableData[a].rankInit="高级旗舰店":9==e.tableData[a].rankInit&&(e.tableData[a].rankInit="超级旗舰店"),0==e.tableData[a].rank?e.tableData[a].rank="普通会员":1==e.tableData[a].rank?e.tableData[a].rank="VIP会员":2==e.tableData[a].rank?e.tableData[a].rank="代理会员":3==e.tableData[a].rank?e.tableData[a].rank="初级代理店":4==e.tableData[a].rank?e.tableData[a].rank="一级代理店":5==e.tableData[a].rank?e.tableData[a].rank="二级代理店":6==e.tableData[a].rank?e.tableData[a].rank="三级代理店":7==e.tableData[a].rank?e.tableData[a].rank="旗舰店":8==e.tableData[a].rank?e.tableData[a].rank="高级旗舰店":9==e.tableData[a].rank&&(e.tableData[a].rank="超级旗舰店"),0==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="普通会员":1==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="VIP会员":2==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="代理会员":3==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="初级代理店":4==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="一级代理店":5==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="二级代理店":6==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="三级代理店":7==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="旗舰店":8==e.tableData[a].rankRecordHigh?e.tableData[a].rankRecordHigh="高级旗舰店":9==e.tableData[a].rankRecordHigh&&(e.tableData[a].rankRecordHigh="超级旗舰店"),0==e.tableData[a].ppvqualified?e.tableData[a].ppvqualified="不合格":1==e.tableData[a].ppvqualified&&(e.tableData[a].ppvqualified="合格"),1==e.tableData[a].leafYn?e.tableData[a].leafYn="是":e.tableData[a].leafYn="否",0==e.tableData[a].tourismQualified?e.tableData[a].tourismQualified="不及格":e.tableData[a].tourismQualified="及格",0==e.tableData[a].carQualified?e.tableData[a].carQualified="不及格":e.tableData[a].carQualified="及格",0==e.tableData[a].dividendQualified?e.tableData[a].dividendQualified="不及格":e.tableData[a].dividendQualified="及格";setTimeout(function(){e.loadingTable=!1},200)})},onCount:function(){var e=this;this.submitDisable=!0,this.loadingTable=!0,this.$axios({method:"get",url:"/apis/member/countNowPeriod",params:{periodCode:this.periodCode}}).then(function(t){t.data.code?setTimeout(function(){e.$message({showClose:!0,message:"计算成功！",type:"success"}),e.onSearch()},1e3):e.$message({showClose:!0,message:t.data.msg,type:"error"})})},onChangePage:function(e){this.form.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()}},created:function(){this.periodCode=this.$route.query.periodCode,this.onSearch()},updated:function(){for(var e in this.tableData)this.tableData[e].layer>0&&(this.submitDisable=!0)}},Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{staticClass:"top-title",attrs:{span:14}},[a("span",[e._v("当前会员周期："),a("b",[e._v(e._s(e.periodCode))])]),e._v(" "),a("span",[e._v("写入业绩人数："+e._s(e.number))])]),e._v(" "),a("el-col",{attrs:{span:4,align:"right"}},[a("el-button",{attrs:{type:"primary",disabled:e.submitDisable},on:{click:e.onCount}},[e._v("计 算")])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,"element-loading-text":"请勿关闭或刷新页面,正在计算中。。。","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"mCode",fixed:"",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mName",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ppv",label:"当期个人购买PV",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ppvRetail",label:"当期个人零售PV",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appvInit",label:"初期个人累积PV",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appvFinal",label:"期末个人累计PV",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ppvqualified",label:"当前消费是否合格",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rankInit",label:"期初个人级别",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rank",label:"当期计算级别",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rankRecordHigh",label:"历史最高级别",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"layer",label:"层级",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leafYn",label:"是否叶子",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"g7pv",label:"G7PV",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"npv",label:"NPV",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gpvFlagship",label:"旗舰GPV",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"groupRankMax",label:"团队最高级别",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ddRank2Number",label:"直推代理人数",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dlRank6Number",label:"下属3级代理店网络数",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dlRank7Number",label:"下属旗舰店网络数",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dlRank8Number",label:"下属高级旗舰店网络数",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tourismQualified",label:"旅游奖",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"carQualified",label:"车奖",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dividendQualified",label:"分红奖",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var Oe=a("VU/8")(Ve,Ue,!1,function(e){a("yenM")},"data-v-25d743fc",null).exports,qe={data:function(){return{submitDisable:!1,loadingTable:!1,periodCode:"",sumVIP:0,sum:0,form:{id:"",name:""},tableData:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:{onSearch:function(){var e=this;this.loadingTable=!0,this.$axios({method:"get",url:"/apis/bonus/findBonus",params:{periodCode:this.periodCode,currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,date:(new Date).getTime()}}).then(function(t){if(t.data.code)for(var a in e.tableData=t.data.data.list,e.pageData.total=t.data.data.total,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.tableData=t.data.data.list,e.tableData)e.sumVIP+=e.tableData[a].bonusNewVip,e.sum+=e.tableData[a].bonusSum;setTimeout(function(){e.loadingTable=!1},200)})},onChangePage:function(e){this.form.currentPage=e},handleSizeChange:function(e){this.pageData.pageSize=e},onCount:function(){var e=this;this.submitDisable=!0,this.loadingTable=!0,this.$axios({method:"get",url:"/apis/bonus/countBonusByPeriod",params:{periodCode:this.periodCode}}).then(function(t){t.data.code?setTimeout(function(){e.$message({showClose:!0,message:"计算成功！",type:"success"}),e.onSearch()},1e3):e.$message({showClose:!0,message:t.data.msg,type:"error"})})}},created:function(){this.periodCode=this.$route.query.periodCode,this.onSearch()}},We={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{staticClass:"top-title",attrs:{span:14}},[a("span",[e._v("当前会员周期："),a("b",[e._v(e._s(e.periodCode))])]),e._v(" "),a("span",[e._v("总奖励PV："+e._s(e.sum))]),e._v(" "),a("span",[e._v("推荐VIP总奖金："+e._s(e.sumVIP))])]),e._v(" "),a("el-col",{attrs:{span:4,align:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onCount}},[e._v("计 算")])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,"element-loading-text":"请勿关闭或刷新页面,正在计算中。。。","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"periodCode",label:"业务周期",fixed:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusRetail",label:"零售奖励",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusNewVip",label:"推荐VIP奖励",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusDevp1",label:"市场拓展奖1代",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusDevp2",label:"市场拓展奖2代",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusDevpShare",label:"市场拓展奖分红",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusDevpSum",label:"市场拓展奖合计",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusLdDirect",label:"领导奖直接奖励",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusLdIndirect",label:"领导奖间接奖励",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusLdSupport",label:"领导奖同级支持奖",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusLdSum",label:"领导奖合计",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chargeService",label:"服务费扣款",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusSum",label:"总奖励合计",align:"center",width:"110"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var Ye=a("VU/8")(qe,We,!1,function(e){a("0jwd")},"data-v-0a6c1fb8",null).exports,He={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,border:"","element-loading-text":"正在计算中,请勿请行其它操作！","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"",label:"业务周期",fixed:"",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总人数",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总订单数",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总业绩",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"VIP辅导奖",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"零售奖",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"市场拓展奖(PV)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"拓展奖占比",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"领导奖(PV))",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"领导奖占比",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"特别奖(PV)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"特别奖占比",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总奖金(PV)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总奖金拨出率",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"币种",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showDialogChange(t.row,t.$index)}}},[e._v("审核")])]}}])})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var Ge=a("VU/8")({data:function(){return{loadingTable:!1,form:{id:"",name:""},tableData:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:{onChangePage:function(e){this.form.currentPage=e},handleSizeChange:function(e){this.pageData.pageSize=e},onShowDetails:function(e){}}},He,!1,function(e){a("ma09")},"data-v-8af49cf0",null).exports,Qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:24,align:"right"}},[a("el-button",{attrs:{type:"primary"}},[e._v("发 放")])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,border:"","element-loading-text":"正在计算中,请勿请行其它操作！","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"",label:"业务周期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"新人数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"业绩人数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"当前总奖金(PV)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"当期总奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"应补发奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"本期应处理的总捐款",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"本期总应付奖金",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"",label:"业务周期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"当期奖金(PV)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"币种",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"当期奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"应补发奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"本期处理的扣款合计",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"应付奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"发放状态",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var Xe=a("VU/8")({data:function(){return{loadingTable:!1,tableData:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:{onChangePage:function(e){this.form.currentPage=e},handleSizeChange:function(e){this.pageData.pageSize=e},onShowDetails:function(e){}}},Qe,!1,function(e){a("w/M8")},"data-v-2097b271",null).exports,Je={data:function(){return{loadingTable:!1,tableData:[],timeAll:[],timeStart:[],timeEnd:[],pageData:{currentPage:1,pageSize:10,total:null},options:[]}},methods:{onChangePage:function(e){this.pageData.currentPage=e},handleSizeChange:function(e){this.pageData.pageSize=e},onGetTime:function(){var e=this;this.$axios({method:"get",url:"/apis/member/findPeriodAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,date:(new Date).getTime()}}).then(function(t){if(t.data.code){var a=null;t.data.data.list.map(function(t){var l={value:t.periodCode.slice(0,4),label:t.periodCode.slice(0,4),children:[]};a!=l.value&&(e.options.push(l),a=l.value),e.options.forEach(function(e){if(e.value==t.periodCode.slice(0,4)){var a={value:t.periodCode.slice(4,6),label:t.periodCode.slice(4,6)};e.children.push(a)}})})}})},handleChange:function(){}},created:function(){this.onGetTime()}},Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"业务周期："}},[a("el-cascader",{attrs:{"expand-trigger":"hover",separator:"",options:e.options},model:{value:e.timeStart,callback:function(t){e.timeStart=t},expression:"timeStart"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"至","label-width":"40px"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",separator:"",options:e.options},model:{value:e.timeEnd,callback:function(t){e.timeEnd=t},expression:"timeEnd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"}},[e._v("查 询")]),e._v(" "),a("el-button",{attrs:{type:"primary"}},[e._v("导 出")])],1)],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.tableData,border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"",label:"业务周期",align:"center",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总人数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总订单数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总业绩",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"VIP辅导奖",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"零售奖",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"市场拓展奖(PV)",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"拓展奖占比",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"领导奖(PV)",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"领导奖占比",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"特别奖(PV)",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"特别奖占比",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总奖金(PV)",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总奖金拨出率",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"币种",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"总奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"补发奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"本期扣款",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"实发奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"发放状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"发放人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"发放时间",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]},Ze=a("VU/8")(Je,Ke,!1,null,null,null).exports,et={data:function(){return{loadingTable:!1,form:{id:"",name:"",state:"全部",timeStart:[],timeEnd:[]},searchData:[],pageData:{currentPage:1,pageSize:10,total:null},options:[]}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/findEditStatus",params:{currentPage:this.form.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mName:this.form.name,updateType:this.form.type,reviewStatus:this.form.state,updateTimeStar:this.form.time?this.form.time[0]:"",updateTimeEnd:this.form.time?this.form.time[1]:"",date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.searchData=t.data.data.list;for(var a=0;a<e.searchData.length;a++)0==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="待审":1==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="驳回":2==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="审核通过":e.searchData[a].reviewStatus="无需审核",0==e.searchData[a].updateType?e.searchData[a].updateType="修改基本信息":1==e.searchData[a].updateType?e.searchData[a].updateType="修改敏感信息":2==e.searchData[a].updateType?e.searchData[a].updateType="会员更名":3==e.searchData[a].updateType?e.searchData[a].updateType="更改推荐人":4==e.searchData[a].updateType?e.searchData[a].updateType="更改会员级别":5==e.searchData[a].updateType?e.searchData[a].updateType="与老会员绑定":e.searchData[a].updateType="";e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onGetTime:function(){var e=this;this.$axios({method:"get",url:"/apis/member/findPeriodAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,date:(new Date).getTime()}}).then(function(t){if(t.data.code){var a=null;t.data.data.list.map(function(t){var l={value:t.periodCode.slice(0,4),label:t.periodCode.slice(0,4),children:[]};a!=l.value&&(e.options.push(l),a=l.value),e.options.forEach(function(e){if(e.value==t.periodCode.slice(0,4)){var a={value:t.periodCode.slice(4,6),label:t.periodCode.slice(4,6)};e.children.push(a)}})})}})},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}},created:function(){this.onGetTime()}},tt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"业务周期："}},[a("el-cascader",{attrs:{"expand-trigger":"hover",separator:"",clearable:!0,options:e.options},model:{value:e.form.timeStart,callback:function(t){e.$set(e.form,"timeStart",t)},expression:"form.timeStart"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"padding-left":"10px"},attrs:{label:"至","label-width":"30px"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",separator:"",clearable:!0,options:e.options},model:{value:e.form.timeEnd,callback:function(t){e.$set(e.form,"timeEnd",t)},expression:"form.timeEnd"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"发放状态:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"已发放",value:"已发放"}}),e._v(" "),a("el-option",{attrs:{label:"未发放",value:"未发放"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","奖金发放明细表")}}},[e._v("导 出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"姓名:","label-width":"50px"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"总奖金:"}},[e._v("\n                123\n            ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"mCode",label:"业务周期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"当期奖金(PV)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"币种",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"当期奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"应补发奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"本期处理的扣款合计",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"应付奖金",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"发放状态",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var at=a("VU/8")(et,tt,!1,function(e){a("koNI")},"data-v-cccd944c",null).exports,lt={data:function(){return{loadingTable:!1,form:{id:"",name:"",state:"全部",timeStart:[],timeEnd:[]},searchData:[],options:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/findEditStatus",params:{currentPage:this.form.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mName:this.form.name,updateType:this.form.type,reviewStatus:this.form.state,updateTimeStar:this.form.time?this.form.time[0]:"",updateTimeEnd:this.form.time?this.form.time[1]:"",date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.searchData=t.data.data.list;for(var a=0;a<e.searchData.length;a++)0==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="待审":1==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="驳回":2==e.searchData[a].reviewStatus?e.searchData[a].reviewStatus="审核通过":e.searchData[a].reviewStatus="无需审核",0==e.searchData[a].updateType?e.searchData[a].updateType="修改基本信息":1==e.searchData[a].updateType?e.searchData[a].updateType="修改敏感信息":2==e.searchData[a].updateType?e.searchData[a].updateType="会员更名":3==e.searchData[a].updateType?e.searchData[a].updateType="更改推荐人":4==e.searchData[a].updateType?e.searchData[a].updateType="更改会员级别":5==e.searchData[a].updateType?e.searchData[a].updateType="与老会员绑定":e.searchData[a].updateType="";e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onGetTime:function(){var e=this;this.$axios({method:"get",url:"/apis/member/findPeriodAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,date:(new Date).getTime()}}).then(function(t){if(t.data.code){var a=null;t.data.data.list.map(function(t){var l={value:t.periodCode.slice(0,4),label:t.periodCode.slice(0,4),children:[]};a!=l.value&&(e.options.push(l),a=l.value),e.options.forEach(function(e){if(e.value==t.periodCode.slice(0,4)){var a={value:t.periodCode.slice(4,6),label:t.periodCode.slice(4,6)};e.children.push(a)}})})}})},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}},created:function(){this.onGetTime()}},rt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"业务周期："}},[a("el-cascader",{attrs:{"expand-trigger":"hover",separator:"",clearable:!0,options:e.options},model:{value:e.form.timeStart,callback:function(t){e.$set(e.form,"timeStart",t)},expression:"form.timeStart"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"padding-left":"10px"},attrs:{label:"至","label-width":"30px"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",separator:"",clearable:!0,options:e.options},model:{value:e.form.timeEnd,callback:function(t){e.$set(e.form,"timeEnd",t)},expression:"form.timeEnd"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"奖励类型:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"零售奖励",value:"零售奖励"}}),e._v(" "),a("el-option",{attrs:{label:"推荐PV奖",value:"推荐PV奖"}}),e._v(" "),a("el-option",{attrs:{label:"市场拓展奖",value:"市场拓展奖"}}),e._v(" "),a("el-option",{attrs:{label:"领导奖",value:"领导奖"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","会员奖金明细表")}}},[e._v("导 出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"姓名:","label-width":"50px"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"总奖励PV:"}},[e._v("\n                123\n            ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"mCode",label:"业务周期",fixed:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"零售奖励",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"推荐VIP奖励",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"市场拓展奖1代",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"市场拓展奖2代",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"市场拓展奖分红",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"市场拓展奖合计",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"领导奖直接奖励",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"领导奖间接奖励",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"领导奖同级支持奖",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"领导奖合计",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"服务费捐款",align:"center",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"总奖励合计",align:"center",width:"130"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var nt=a("VU/8")(lt,rt,!1,function(e){a("U9BG")},"data-v-576233d2",null).exports,ot={data:function(){return{submitLoading:!1,form:{mcode:"",name:"",nickname:"",IDCode:"",currency:"",arrears:null,type:"借款",bankCode:"",money:null,balance:"",percentage:"",oId:null},rules:{percentage:[{validator:function(e,t,a){/^[1-9]{1,2}$/.test(t)?a():a(new Error("请输入小于100的正整数"))},trigger:["blur","change"]}]}}},methods:{onSubmit:function(e){var t=this;this.form.mcode?this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;t.submitLoading=!0,t.$axios({method:"post",url:"/apis/member/addReceivable",params:{mCode:t.form.mcode,mNickname:t.form.nickname,currencyCode:t.form.currency,receivableBlance:t.form.arrears,trTypeCode:"借款"==t.form.type?"NR":"RR",oId:t.form.oId,amount:t.form.money,blanceAfter:t.form.balance,bnsDeductPecent:t.form.percentage}}).then(function(e){e.data.code?t.$refs.dialog.userDefined({icon:"success",title:"信息已修改成功！"}):t.$refs.dialog.userDefined({icon:"error",title:e.data.msg}),t.submitLoading=!1})}):this.$message({showClose:!0,message:"请先选择用户",type:"error"})},onSearch:function(){this.$refs.dialog.onSearchDialog()},getSearchData:function(e){this.form={mcode:e.mCode,name:e.mNickname,nickname:e.mName,IDCode:e.idCode,currency:"",arrears:"",type:"借款",bankCode:"",money:"",balance:"",percentage:""},this.getDetailed(e.mCode)},getDetailed:function(e){var t=this;this.$axios({method:"get",url:"/apis/member/findReceivableByMCode",params:{mCode:e,date:(new Date).getTime()}}).then(function(e){e.data.code&&(t.form.currency=e.data.data.currencyCode,t.form.arrears=e.data.data.receivableBlance,t.form.bankCode=e.data.data.bank.accCode,t.form.percentage=e.data.data.bnsDeductPecent,t.form.oId=e.data.data.bank.oId)})},changeMoney:function(e){"借款"==this.form.type?this.form.balance=parseInt(this.form.arrears)-parseInt(this.form.money):this.form.balance=parseInt(this.form.arrears)+parseInt(this.form.money)}}},st={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"90px","label-position":"left"}},[a("el-form-item",{attrs:{label:"选择用户"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("搜索")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.mcode,callback:function(t){e.$set(e.form,"mcode",t)},expression:"form.mcode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"会员昵称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"会员姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.IDCode,callback:function(t){e.$set(e.form,"IDCode",t)},expression:"form.IDCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"币种"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"当前欠款"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.arrears,callback:function(t){e.$set(e.form,"arrears",t)},expression:"form.arrears"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[[a("el-form-item",{attrs:{label:"交易类型","label-width":"110px"}},[a("el-radio",{attrs:{label:"借款"},on:{input:e.changeMoney},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._v("借款")]),e._v(" "),a("el-radio",{attrs:{label:"还款"},on:{input:e.changeMoney},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._v("还款")])],1)]],2),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"默认提现卡"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.bankCode,callback:function(t){e.$set(e.form,"bankCode",t)},expression:"form.bankCode"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"交易金额"}},[a("el-input",{on:{input:e.changeMoney},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"交易后余额"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.balance,callback:function(t){e.$set(e.form,"balance",t)},expression:"form.balance"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"自动扣减工资百分比","label-width":"150px",prop:"percentage"}},[a("el-input",{model:{value:e.form.percentage,callback:function(t){e.$set(e.form,"percentage",e._n(t))},expression:"form.percentage"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("\n               %\n            ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2,offset:1}},[a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交审核")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("router-link",{attrs:{to:"/memberArrears"}},[a("el-button",[e._v("返 回")])],1)],1)],1),e._v(" "),a("dialog-com",{ref:"dialog",on:{searchData:e.getSearchData}})],1)},staticRenderFns:[]};var it=a("VU/8")(ot,st,!1,function(e){a("fiUJ")},null,null).exports,ct={data:function(){return{Dialog:!1,percentage:null,ChangeData:null,loadingTable:!1,timeAll:[],form:{mCode:"",name:"",state:"全部"},searchData:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:i()({onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.searchData=[],this.loadingTable=!0;var t=this.form.state;this.$axios({method:"post",url:"/apis/member/findReceivableAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.mCode,mNickname:this.form.name,status:"全部"==this.form.state?0:"正常"==t?1:2,date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.searchData=t.data.data.list;for(var a=0;a<e.searchData.length;a++)e.searchData[a].bnsDeductPecent=e.searchData[a].bnsDeductPecent+"%",1==e.searchData[a].status?e.searchData[a].status="正常":2==e.searchData[a].status&&(e.searchData[a].status="异常");e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},exportExcel:function(){var e=this;0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):new P.a(function(t,a){e.pageData.pageSize=e.pageData.total,e.onSearch(),setTimeout(function(){t()},500)}).then(function(){var t=XLSX.utils.table_to_book(document.querySelector("#memberTable")),a=XLSX.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{FileSaver.saveAs(new Blob([a],{type:"application/octet-stream"}),"会员欠款表 .xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,a)}return e.pageData.pageSize=10,e.onSearch(),a})},onShowDetails:function(e){},DialogChangePercent:function(e){this.Dialog=!0,this.ChangeData=e},onChangePercent:function(){}},"exportExcel",function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}),created:function(){this.onSearch()}},mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.mCode,callback:function(t){e.$set(e.form,"mCode",t)},expression:"form.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"状态:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"正常",value:"正常"}}),e._v(" "),a("el-option",{attrs:{label:"异常",value:"异常"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","会员欠款表")}}},[e._v("导 出")])],1),e._v(" "),a("el-col",{attrs:{span:5,align:"right"}},[a("router-link",{attrs:{to:"/addArrears"}},[a("el-button",{attrs:{type:"primary"}},[e._v("创建新单")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivableBlance",label:"会员欠款余额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currencyCode",label:"币种",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bnsDeductPecent",label:"自动扣减工资百分比",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"240px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"0 20px"},attrs:{type:"success",size:"mini"},on:{click:function(a){e.onShowDetails(t.row)}}},[e._v("查看明细")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.DialogChangePercent(t.row)}}},[e._v("修改扣减比例")])]}}])})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改自动扣减工资比例?",visible:e.Dialog,width:"400px",center:""},on:{"update:visible":function(t){e.Dialog=t}}},[a("el-row",[a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{model:{value:e.percentage,callback:function(t){e.percentage=t},expression:"percentage"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("\n                %\n                ")])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.Dialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onChangePercent}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},dt=a("VU/8")(ct,mt,!1,null,null,null).exports,pt={data:function(){return{form:{id:"",name:"",timeStart:[],timeEnd:[],code:null,state:"全部",type:"全部"},loadingTable:!1,searchData:[],pageData:{currentPage:1,pageSize:10,total:null},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.searchData=[],this.loadingTable=!0;var t="",a="";"全部"==this.form.type?a="":"借款"==this.form.type?a="NR":"还款"==this.form.type&&(a="RR"),t=this.form.time&&""!=this.form.time[0]?this.form.time[0]+"/"+this.form.time[1]:"",this.$axios({method:"post",url:"/apis/member/findReceivableDetailAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mNickname:this.form.name,transTimeS:t,transNumber:this.form.code,status:0,trTypeCode:a,date:(new Date).getTime()}}).then(function(t){if(t.data.code){for(var a=t.data.data.list,l=function(){"NR"==a[r].trTypeCode?a[r].trTypeCode="欠款":"RR"==a[r].trTypeCode&&(a[r].trTypeCode="还款"),"CMP"==a[r].trSourceType?a[r].trSourceType="公司":"OBB"==a[r].trSourceType?a[r].trSourceType="其它会员奖金余额":"OWB"==a[r].trSourceType?a[r].trSourceType="其它会员购物积分":"SBB"==a[r].trSourceType?a[r].trSourceType="本人积分账户余额":"SWB"==a[r].trSourceType?a[r].trSourceType="本人购物积分余额":"BNK"==a[r].trSourceType?a[r].trSourceType="银行(包括第三访支付)":"CSH"==a[r].trSourceType&&(a[r].trSourceType="现金"),-1==a[r].status?a[r].status="取消":1==a[r].status?a[r].status="新单":2==a[r].status?a[r].status="已申请":3==a[r].status&&(a[r].status="已授权"),0==a[r].washedYn?a[r].washedYn="否":a[r].washedYn="是";var t=a[r];e.$axios({method:"get",url:"/apis/member/findMBankByMCode",params:{mCode:a[r].mCode,date:(new Date).getTime()}}).then(function(e){if(e.data.code){var a=e.data.data.memberBank,l=t.trBankOid;for(var r in a)a[r].oId==l&&(t.bankCode=a[r].bankCode,t.accCode=a[r].accCode,t.accType=a[r].accType)}}),a[r].bankCode=t.bankCode,a[r].accCode=t.accCode,a[r].accType=t.accType},r=0;r<a.length;r++)l();e.searchData=a,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onChangeDate:function(e){if(e){var t=e[0].getMonth()+1<10?"0"+(e[0].getMonth()+1):e[0].getMonth()+1,a=e[1].getMonth()+1<10?"0"+(e[1].getMonth()+1):e[1].getMonth()+1,l=e[0].getDate()<10?"0"+e[0].getDate():e[0].getDate(),r=e[1].getDate()<10?"0"+e[1].getDate():e[1].getDate();this.form.time[0]=e[0].getFullYear()+"-"+t+"-"+l,this.form.time[1]=e[1].getFullYear()+"-"+a+"-"+r}},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}},created:function(){this.onSearch()}},ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"周期时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","会员欠款单申请审核")}}},[e._v("导 出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"交易单号:"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"交易类型:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"借款",value:"借款"}}),e._v(" "),a("el-option",{attrs:{label:"还款",value:"还款"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"交易标志:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"新单",value:"新单"}}),e._v(" "),a("el-option",{attrs:{label:"已申请",value:"已申请"}}),e._v(" "),a("el-option",{attrs:{label:"已授权",value:"已授权"}}),e._v(" "),a("el-option",{attrs:{label:"取消",value:"取消"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"transNumber",label:"交易流水号",fixed:"",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"batchNumber",label:"批记录号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trTypeCode",label:"交易类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trSourceType",label:"交易渠道",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accType",label:"账户类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankCode",label:"银行名称",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accCode",label:"账户号码",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currencyCode",label:"币种",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceBefore",label:"交易前余额",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"交易金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceAfter",label:"交易后余额",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transDate",label:"交易时间",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transRepiod",label:"交易业务周期",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transDesc",label:"交易说明",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"交易标志",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"washedYn",label:"冲正标志",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orignTransNumber",label:"原始单号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationBy",label:"创建人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transDate",label:"创建时间",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateBy",label:"更新人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"autohrizeBy",label:"授权人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"autohrizeTime",label:"授权时间",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"autohrizeDesc",label:"授权说明",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var ft=a("VU/8")(pt,ut,!1,function(e){a("8KuK")},"data-v-5b152061",null).exports,gt={data:function(){return{Dialog:!1,loadingTable:!1,form:{id:"",name:"",time:["",""],code:null,type:"全部"},searchData:[],pageData:{currentPage:1,pageSize:10,total:null},current:null,desc:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.searchData=[],this.loadingTable=!0;var t="",a="";"全部"==this.form.type?a="":"借款"==this.form.type?a="NR":"还款"==this.form.type&&(a="RR"),t=this.form.time&&""!=this.form.time[0]?this.form.time[0]+"/"+this.form.time[1]:"",this.$axios({method:"post",url:"/apis/member/findReceivableDetailAll",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mNickname:this.form.name,transTimeS:t,transNumber:this.form.code,status:2,trTypeCode:a,date:(new Date).getTime()}}).then(function(t){if(t.data.code){for(var a=t.data.data.list,l=function(){"NR"==a[r].trTypeCode?a[r].trTypeCode="欠款":"RR"==a[r].trTypeCode&&(a[r].trTypeCode="还款"),"CMP"==a[r].trSourceType?a[r].trSourceType="公司":"OBB"==a[r].trSourceType?a[r].trSourceType="其它会员奖金余额":"OWB"==a[r].trSourceType?a[r].trSourceType="其它会员购物积分":"SBB"==a[r].trSourceType?a[r].trSourceType="本人积分账户余额":"SWB"==a[r].trSourceType?a[r].trSourceType="本人购物积分余额":"BNK"==a[r].trSourceType?a[r].trSourceType="银行(包括第三访支付)":"CSH"==a[r].trSourceType&&(a[r].trSourceType="现金"),-1==a[r].status?a[r].status="取消":1==a[r].status?a[r].status="新单":2==a[r].status?a[r].status="已申请":3==a[r].status&&(a[r].status="已授权"),0==a[r].washedYn?a[r].washedYn="否":a[r].washedYn="是";var t=a[r];e.$axios({method:"get",url:"/apis/member/findMBankByMCode",params:{mCode:a[r].mCode,date:(new Date).getTime()}}).then(function(e){if(e.data.code){var a=e.data.data.memberBank,l=t.trBankOid;for(var r in a)a[r].oId==l&&(t.bankCode=a[r].bankCode,t.accCode=a[r].accCode,t.accType=a[r].accType)}}),a[r].bankCode=t.bankCode,a[r].accCode=t.accCode,a[r].accType=t.accType},r=0;r<a.length;r++)l();e.searchData=a,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onChangeDate:function(e){if(e){var t=e[0].getMonth()+1<10?"0"+(e[0].getMonth()+1):e[0].getMonth()+1,a=e[1].getMonth()+1<10?"0"+(e[1].getMonth()+1):e[1].getMonth()+1,l=e[0].getDate()<10?"0"+e[0].getDate():e[0].getDate(),r=e[1].getDate()<10?"0"+e[1].getDate():e[1].getDate();this.form.time[0]=e[0].getFullYear()+"-"+t+"-"+l,this.form.time[1]=e[1].getFullYear()+"-"+a+"-"+r}},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)},onShowDialog:function(e){this.current=null,this.Dialog=!0,this.current=e},onToExamine:function(){var e=this;this.$axios({method:"post",url:"/apis/member/AuditReceivable",params:{mCode:this.current.mCode,mNickname:this.current.mNickname,transNumber:this.current.transNumber,status:3}}).then(function(t){t.data.code?(e.$message({showClose:!0,message:"审核成功",type:"success"}),e.onSearch()):e.$message({showClose:!0,message:t.data.msg,type:"error"}),setTimeout(function(){e.Dialog=!1},200)})},onReject:function(){var e=this;this.$axios({method:"post",url:"/apis/member/AuditReceivable",params:{mCode:this.current.mCode,mNickname:this.current.mNickname,transNumber:this.current.transNumber,status:-1}}).then(function(t){t.data.code?(e.$message({showClose:!0,message:"驳回成功",type:"success"}),e.onSearch()):e.$message({showClose:!0,message:t.data.msg,type:"error"}),setTimeout(function(){e.Dialog=!1},200)})}},created:function(){this.onSearch()}},ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"周期时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"交易类型:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"还款",value:"还款"}}),e._v(" "),a("el-option",{attrs:{label:"借款",value:"借款"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","会员欠款单申请审核表")}}},[e._v("导 出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"交易单号:"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"transNumber",label:"交易流水号",fixed:"",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"batchNumber",label:"批记录号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trTypeCode",label:"交易类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trSourceType",label:"交易渠道",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accType",label:"账户类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankCode",label:"银行名称",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accCode",label:"账户号码",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currencyCode",label:"币种",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceBefore",label:"交易前余额",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"交易金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceAfter",label:"交易后余额",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transDate",label:"交易时间",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transRepiod",label:"交易业务周期",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transDesc",label:"交易说明",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"交易标志",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"washedYn",label:"冲正标志",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orignTransNumber",label:"原始单号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationBy",label:"创建人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transDate",label:"创建时间",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateBy",label:"更新人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",align:"center",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.onShowDialog(t.row)}}},[e._v("审 核")])]}}])})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"是否通过审核?",visible:e.Dialog,width:"400px",center:""},on:{"update:visible":function(t){e.Dialog=t}}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"填入理由:","label-width":"75px"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:e.onReject}},[e._v("驳 回")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onToExamine}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},bt=a("VU/8")(gt,ht,!1,null,null,null).exports,vt={data:function(){return{activeTag:"first",formSelect:[],formSelect1:[{label:"全部",value:""},{label:"全部转入",value:"INTOALL"},{label:"转入——奖金转入",value:"BA"},{label:"转入——充值",value:"RC"},{label:"转入——公司补发奖金",value:"RB"},{label:"全部转出",value:"OUTALL"},{label:"转出——提现",value:"WD"},{label:"转出——转购物积分",value:"SP"},{label:"转出——归还欠款",value:"RR"}],formSelect2:[{label:"全部",value:""},{label:"全部转入",value:"INTOALL"},{label:"转入——奖金积分转换",value:"BT"},{label:"转入——他人转入",value:"TF"},{label:"转入——订单退款",value:"OT"},{label:"全部转出",value:"OUTALL"},{label:"转出——订单支付",value:"OP"},{label:"转出——转给他人",value:"TT"}],formSelect3:[{label:"全部转入",value:"INTOALL"},{label:"转入——评论商品",value:"PC"},{label:"全部转出",value:"OUTALL"},{label:"转出——换购商品",value:"EG"}],form:{id:"",nickname:"",timeStart:[],timeEnd:[],code:null,recordNumber:null,type:"全部"},formIntegral:{id:"",nickname:"",state:"",reward:"",shopping:"",redemption:"",rewardInto:"",rewardOut:"",shoppingInto:"",shoppingOut:"",redemptionInto:"",redemptionOut:""},loadingTable:!1,searchData:[],pageData:{currentPage:1,pageSize:10,total:null},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},handleClick:function(e){"奖励积分"==e.label?this.formSelect=this.formSelect1:"购物积分"==e.label?this.formSelect=this.formSelect2:"换购积分"==e.label&&(this.formSelect=this.formSelect3),this.onSearch(),this.form.id&&this.findMIntegral()},onSearch:function(){var e=this;this.searchData=[],this.loadingTable=!0;var t="";t=this.form.time&&""!=this.form.time[0]?this.form.time[0]+"/"+this.form.time[1]:"","全部"==this.form.type&&(this.form.type=""),this.form.id&&this.findMIntegral(),this.$axios({method:"post",url:"/apis/member/findAccountLog",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mNickname:this.form.nickname,transNumber:this.form.code,transTimeS:t,batchNumber:this.form.recordNumber,transTypeCode:this.form.type,typeS:"first"==this.activeTag?"BOP":"second"==this.activeTag?"SHP":"PUI",date:(new Date).getTime()}}).then(function(t){if(t.data.code){for(var a=t.data.data.list,l=0;l<a.length;l++)"BA"==a[l].transTypeCode?a[l].transTypeCode="奖金转入":"RC"==a[l].transTypeCode?a[l].transTypeCode="充值":"RB"==a[l].transTypeCode?a[l].transTypeCode="公司补发奖金":"WD"==a[l].transTypeCode?a[l].transTypeCode="取现":"SP"==a[l].transTypeCode?a[l].transTypeCode="转购物积分":"RR"==a[l].transTypeCode?a[l].transTypeCode="归还欠款":"BT"==a[l].transTypeCode?a[l].transTypeCode="奖励积分转换":"TF"==a[l].transTypeCode?a[l].transTypeCode="他人转入":"OT"==a[l].transTypeCode?a[l].transTypeCode="订单退款":"OP"==a[l].transTypeCode?a[l].transTypeCode="订单支付":"TT"==a[l].transTypeCode?a[l].transTypeCode="转给他人":"PC"==a[l].transTypeCode?a[l].transTypeCode="购买商品并评论":"EG"==a[l].transTypeCode&&(a[l].transTypeCode="换购商品");"first"==e.activeTag?(e.formIntegral.rewardInto=t.data.map.intoAll,e.formIntegral.rewardOut=t.data.map.outAll):"second"==e.activeTag?(e.formIntegral.shoppingInto=t.data.map.intoAll,e.formIntegral.shoppingOut=t.data.map.outAll):"third"==e.activeTag&&(e.formIntegral.redemptionInto=t.data.map.intoAll,e.formIntegral.redemptionOut=t.data.map.outAll),e.searchData=a,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onChangeDate:function(e){if(e){var t=e[0].getMonth()+1<10?"0"+(e[0].getMonth()+1):e[0].getMonth()+1,a=e[1].getMonth()+1<10?"0"+(e[1].getMonth()+1):e[1].getMonth()+1,l=e[0].getDate()<10?"0"+e[0].getDate():e[0].getDate(),r=e[1].getDate()<10?"0"+e[1].getDate():e[1].getDate();this.form.time[0]=e[0].getFullYear()+"-"+t+"-"+l,this.form.time[1]=e[1].getFullYear()+"-"+a+"-"+r}},findMIntegral:function(){var e=this;this.formIntegral={id:"",nickname:"",state:"",reward:"",shopping:"",redemption:"",rewardInto:"",rewardOut:"",shoppingInto:"",shoppingOut:"",redemptionInto:"",redemptionOut:""},this.$axios({method:"get",url:"/apis/member/findMemAccountByMCode",params:{mCode:this.form.id,date:(new Date).getTime()}}).then(function(t){t.data.code?(e.formIntegral.state=0==t.data.data.bonusStatus?"正常":1==t.data.data.bonusStatus?"冻结":"未激活",e.formIntegral.reward=t.data.data.bonusBlance,e.formIntegral.shopping=t.data.data.walletBlance,e.formIntegral.redemption=t.data.data.redemptionBlance):e.$message({showClose:!0,message:"该会员没有积分信息",type:"warning"})}),this.$axios({method:"get",url:"/apis/member/findByMCode",params:{mCode:this.form.id,date:(new Date).getTime()}}).then(function(t){t.data.code&&(e.formIntegral.id=t.data.data.memberBasic.mCode,e.formIntegral.nickname=t.data.data.memberBasic.mNickname)})},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}},created:function(){this.formSelect=this.formSelect1,this.onSearch()}},_t={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"按时间查询"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","会员积分")}}},[e._v("导 出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"交易单号:"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"first"==e.activeTag||"third"==e.activeTag,expression:"activeTag=='first'||activeTag=='third'"}],attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"批记录号:"}},[a("el-input",{model:{value:e.form.recordNumber,callback:function(t){e.$set(e.form,"recordNumber",t)},expression:"form.recordNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"交易类型:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.formSelect,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeTag,callback:function(t){e.activeTag=t},expression:"activeTag"}},[a("el-tab-pane",{attrs:{label:"奖励积分",name:"first"}},[a("el-form",{attrs:{model:e.formIntegral,"label-width":"100px"}},[e.form.id?a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.id,callback:function(t){e.$set(e.formIntegral,"id",t)},expression:"formIntegral.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.nickname,callback:function(t){e.$set(e.formIntegral,"nickname",t)},expression:"formIntegral.nickname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"积分状态:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.state,callback:function(t){e.$set(e.formIntegral,"state",t)},expression:"formIntegral.state"}})],1)],1)],1):e._e(),e._v(" "),e.form.id?a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"奖励积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.reward,callback:function(t){e.$set(e.formIntegral,"reward",t)},expression:"formIntegral.reward"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"购物积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.shopping,callback:function(t){e.$set(e.formIntegral,"shopping",t)},expression:"formIntegral.shopping"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"换购积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.redemption,callback:function(t){e.$set(e.formIntegral,"redemption",t)},expression:"formIntegral.redemption"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"奖励积分转入:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.rewardInto,callback:function(t){e.$set(e.formIntegral,"rewardInto",t)},expression:"formIntegral.rewardInto"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"奖励积分转出:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.rewardOut,callback:function(t){e.$set(e.formIntegral,"rewardOut",t)},expression:"formIntegral.rewardOut"}})],1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"购物积分",name:"second"}},[a("el-form",{attrs:{model:e.formIntegral,"label-width":"100px"}},[e.form.id?a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.id,callback:function(t){e.$set(e.formIntegral,"id",t)},expression:"formIntegral.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.nickname,callback:function(t){e.$set(e.formIntegral,"nickname",t)},expression:"formIntegral.nickname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"积分状态:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.state,callback:function(t){e.$set(e.formIntegral,"state",t)},expression:"formIntegral.state"}})],1)],1)],1):e._e(),e._v(" "),e.form.id?a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"奖励积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.reward,callback:function(t){e.$set(e.formIntegral,"reward",t)},expression:"formIntegral.reward"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"购物积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.shopping,callback:function(t){e.$set(e.formIntegral,"shopping",t)},expression:"formIntegral.shopping"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"换购积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.redemption,callback:function(t){e.$set(e.formIntegral,"redemption",t)},expression:"formIntegral.redemption"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"购物积分转入:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.shoppingInto,callback:function(t){e.$set(e.formIntegral,"shoppingInto",t)},expression:"formIntegral.shoppingInto"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"购物积分转出:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.shoppingOut,callback:function(t){e.$set(e.formIntegral,"shoppingOut",t)},expression:"formIntegral.shoppingOut"}})],1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"换购积分",name:"third"}},[a("el-form",{attrs:{model:e.formIntegral,"label-width":"100px"}},[e.form.id?a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.id,callback:function(t){e.$set(e.formIntegral,"id",t)},expression:"formIntegral.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.nickname,callback:function(t){e.$set(e.formIntegral,"nickname",t)},expression:"formIntegral.nickname"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"积分状态:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.state,callback:function(t){e.$set(e.formIntegral,"state",t)},expression:"formIntegral.state"}})],1)],1)],1):e._e(),e._v(" "),e.form.id?a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"奖励积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.reward,callback:function(t){e.$set(e.formIntegral,"reward",t)},expression:"formIntegral.reward"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"购物积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.shopping,callback:function(t){e.$set(e.formIntegral,"shopping",t)},expression:"formIntegral.shopping"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"换购积分:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.redemption,callback:function(t){e.$set(e.formIntegral,"redemption",t)},expression:"formIntegral.redemption"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"换购积分转入:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.redemptionInto,callback:function(t){e.$set(e.formIntegral,"redemptionInto",t)},expression:"formIntegral.redemptionInto"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"换购积分转出:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formIntegral.redemptionOut,callback:function(t){e.$set(e.formIntegral,"redemptionOut",t)},expression:"formIntegral.redemptionOut"}})],1)],1)],1)],1)],1)],1)],e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"transNumber",label:"交易流水号",fixed:"",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"batchNumber",label:"批记录号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transDate",label:"交易时间",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transPeiod",label:"交易业务周期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"交易方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transTypeCode",label:"交易类型",align:"center"}}),e._v(" "),"second"==e.activeTag?a("el-table-column",{attrs:{prop:"",label:"交易会员号",align:"center"}}):e._e(),e._v(" "),"second"==e.activeTag?a("el-table-column",{attrs:{prop:"",label:"交易会员昵称",align:"center"}}):e._e(),e._v(" "),"second"!=e.activeTag?a("el-table-column",{attrs:{prop:"",label:"关联单号",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"blanceBefore",label:"交易前余额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"交易金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceAfter",label:"交易后余额",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],2)},staticRenderFns:[]};var Dt=a("VU/8")(vt,_t,!1,function(e){a("eS7K")},"data-v-23e9b93b",null).exports,wt={data:function(){var e=function(e,t,a){var l=/^[0-9]*[1-9][0-9]*$/.test(t);null==t||l?a():a(new Error("请输入正整数"))};return{form:{rsCountBonusPoint:null,rsCountBonusPointChange:null,bonusPointWdLimit:null,bonusPointWd:null,bonusPointShopping:null,bonusPointShoppingChange:null,shoppingPointSr:null,shoppingPointSrChange:null,tranksShoppingPoint:null},oldRule:{},rules:{rsCountBonusPointChange:[{validator:e,trigger:"blur"}],bonusPointShoppingChange:[{validator:e,trigger:"blur"}],shoppingPointSrChange:[{validator:e,trigger:"blur"}]}}},methods:{onSearch:function(){var e=this;this.form={rsCountBonusPoint:null,rsCountBonusPointChange:null,bonusPointWdLimit:null,bonusPointWd:null,bonusPointShopping:null,bonusPointShoppingChange:null,shoppingPointSr:null,shoppingPointSrChange:null,tranksShoppingPoint:null},this.$axios({method:"get",url:"/apis/member/findRule",params:{date:(new Date).getTime()}}).then(function(t){t.data.code&&(e.form.rsCountBonusPoint=t.data.data.rsCountBonusPoint,e.form.bonusPointWdLimit=t.data.data.bonusPointWdLimit,e.form.bonusPointWd=t.data.data.bonusPointWd,e.form.bonusPointShopping=t.data.data.bonusPointShopping,e.form.shoppingPointSr=t.data.data.shoppingPointSr,e.form.tranksShoppingPoint=t.data.data.tranksShoppingPoint,e.oldRule=JSON.parse(H()(e.form)))})},onSubmit:function(e){var t=this;H()(this.oldRule)===H()(this.form)?this.$message({showClose:!0,message:"该规则已存在!",type:"error"}):this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入正确信息!",type:"error"}),!1;t.$confirm("确定要保存该修改？","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){t.$axios({method:"post",url:"/apis/member/updateRule",params:{rsCountBonusPoint:t.form.rsCountBonusPointChange?t.form.rsCountBonusPointChange:t.form.rsCountBonusPoint,bonusPointWdLimit:t.form.bonusPointWdLimit,bonusPointWd:t.form.bonusPointWd,bonusPointShopping:t.form.bonusPointShoppingChange?t.form.bonusPointShoppingChange:t.form.bonusPointShopping,shoppingPointSr:t.form.shoppingPointSrChange?t.form.shoppingPointSrChange:t.form.shoppingPointSr,tranksShoppingPoint:t.form.tranksShoppingPoint,date:(new Date).getTime()}}).then(function(e){e.data.code?t.$message({showClose:!0,message:"积分规则修改成功!",type:"success"}):t.$message({showClose:!0,message:"积分规则修改失败!",type:"error"}),t.onSearch()})}).catch(function(){})})}},created:function(){this.onSearch()}},yt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"200px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"返佣计入奖励积分比例:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.rsCountBonusPoint,callback:function(t){e.$set(e.form,"rsCountBonusPoint",t)},expression:"form.rsCountBonusPoint"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("%")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"修改为:","label-width":"60px",prop:"rsCountBonusPointChange"}},[a("el-input",{model:{value:e.form.rsCountBonusPointChange,callback:function(t){e.$set(e.form,"rsCountBonusPointChange",t)},expression:"form.rsCountBonusPointChange"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("%")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"奖励积分提现最低限额:"}},[a("el-input",{model:{value:e.form.bonusPointWdLimit,callback:function(t){e.$set(e.form,"bonusPointWdLimit",t)},expression:"form.bonusPointWdLimit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("奖励积分")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"奖励积分提现手续费:"}},[a("el-input",{model:{value:e.form.bonusPointWd,callback:function(t){e.$set(e.form,"bonusPointWd",t)},expression:"form.bonusPointWd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("%")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"奖励积分转入购物积分比例:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.bonusPointShopping,callback:function(t){e.$set(e.form,"bonusPointShopping",t)},expression:"form.bonusPointShopping"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("%")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"修改为:","label-width":"60px",prop:"bonusPointShoppingChange"}},[a("el-input",{model:{value:e.form.bonusPointShoppingChange,callback:function(t){e.$set(e.form,"bonusPointShoppingChange",t)},expression:"form.bonusPointShoppingChange"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("%")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"购物积分购物比例:"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.shoppingPointSr,callback:function(t){e.$set(e.form,"shoppingPointSr",t)},expression:"form.shoppingPointSr"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("%")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"修改为:","label-width":"60px",prop:"shoppingPointSrChange"}},[a("el-input",{model:{value:e.form.shoppingPointSrChange,callback:function(t){e.$set(e.form,"shoppingPointSrChange",t)},expression:"form.shoppingPointSrChange"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("%")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"购物积分转账手续费:"}},[a("el-input",{model:{value:e.form.tranksShoppingPoint,callback:function(t){e.$set(e.form,"tranksShoppingPoint",t)},expression:"form.tranksShoppingPoint"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-form-item",{attrs:{"label-width":"5px"}},[e._v("%")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("保存设置")])],1)],1)],1)},staticRenderFns:[]};var kt=a("VU/8")(wt,yt,!1,function(e){a("sr/u")},"data-v-6116218f",null).exports,Ct={data:function(){return{form:{id:"",name:"",timeStart:[],timeEnd:[],code:null,status:"全部"},loadingTable:!1,searchData:[],pageData:{currentPage:1,pageSize:10,total:null},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.searchData=[],this.loadingTable=!0;var t="",a="";"全部"==this.form.status?a=0:"待审核"==this.form.status?a=1:"已通过"==this.form.status?a=2:"已拒绝"==this.form.status&&(a=2),t=this.form.time&&""!=this.form.time[0]?this.form.time[0]+"/"+this.form.time[1]:"",this.$axios({method:"post",url:"/apis/member/findAccountLogWDALL",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:this.form.id,mNickname:this.form.name,transTimeS:t,transNumber:this.form.code,status:a,date:(new Date).getTime()}}).then(function(t){if(console.log(t),t.data.code){for(var a=t.data.data.list,l=0;l<a.length;l++)-2==a[l].status?a[l].status="已拒绝":-1==a[l].status?a[l].status="已取消":1==a[l].status?a[l].status="新单":2==a[l].status?a[l].status="待审":3==a[l].status&&(a[l].status="已通过"),a[l].bankCode=t.data.map.bank[l].bankCode,a[l].accCode=t.data.map.bank[l].accCode,a[l].accName=t.data.map.bank[l].accName;e.searchData=a,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onChangeDate:function(e){if(e){var t=e[0].getMonth()+1<10?"0"+(e[0].getMonth()+1):e[0].getMonth()+1,a=e[1].getMonth()+1<10?"0"+(e[1].getMonth()+1):e[1].getMonth()+1,l=e[0].getDate()<10?"0"+e[0].getDate():e[0].getDate(),r=e[1].getDate()<10?"0"+e[1].getDate():e[1].getDate();this.form.time[0]=e[0].getFullYear()+"-"+t+"-"+l,this.form.time[1]=e[1].getFullYear()+"-"+a+"-"+r}},exportExcel:function(e,t){0==this.searchData.length?this.$message({showClose:!0,message:"数据为空，无法导出",type:"warning"}):u(e,t)}},created:function(){this.onSearch()}},xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form,"label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"交易时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},on:{change:e.onChangeDate},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("el-form-item",{attrs:{label:"会员编号:"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"会员昵称:"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查 询")]),e._v(" "),a("el-button",{on:{click:function(t){e.exportExcel("#memberTable","提现记录")}}},[e._v("导 出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"交易单号:"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"状态:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:"待审核"}}),e._v(" "),a("el-option",{attrs:{label:"已通过",value:"已通过"}}),e._v(" "),a("el-option",{attrs:{label:"已拒绝",value:"已拒绝"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{prop:"transDate",label:"申请时间",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceBefore",label:"当前余额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"提现金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceAfter",label:"提现后余额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"提现手续费",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"实际可提额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核时间",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"提现方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankCode",label:"银行名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accCode",label:"账号",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accName",label:"账户名",align:"center"}})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var St=a("VU/8")(Ct,xt,!1,function(e){a("GgXt")},"data-v-ec280f6c",null).exports,Tt={data:function(){return{loadingTable:!1,searchData:[],selectData:[],pageData:{currentPage:1,pageSize:10,total:null}}},methods:{onChangePage:function(e){this.pageData.currentPage=e,this.onSearch()},handleSizeChange:function(e){this.pageData.pageSize=e,this.onSearch()},onSearch:function(){var e=this;this.searchData=[],this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/findAccountLogWDALL",params:{currentPage:this.pageData.currentPage,pageSize:this.pageData.pageSize,mCode:"",mNickname:"",transTimeS:"",transNumber:null,status:0,date:(new Date).getTime()}}).then(function(t){if(t.data.code){for(var a=t.data.data.list,l=0;l<a.length;l++)-2==a[l].status?a[l].status="拒绝授权":-1==a[l].status?a[l].status="已取消":1==a[l].status?a[l].status="新单":2==a[l].status?a[l].status="已申请":3==a[l].status&&(a[l].status="已授权"),a[l].bankCode=t.data.map.bank[l].bankCode,a[l].accCode=t.data.map.bank[l].accCode,a[l].accName=t.data.map.bank[l].accName;e.searchData=a,e.pageData.currentPage=t.data.data.pageNum,e.pageData.pageSize=t.data.data.pageSize,e.pageData.total=t.data.data.total}setTimeout(function(){e.loadingTable=!1},200)})},onReject:function(e){var t=this;this.$confirm("确认拒绝该用户提现申请？","拒绝",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){t.$axios({method:"post",url:"/apis/member/updateAccLogWDOne",params:{mCode:e.mCode,transNumber:e.transNumber,status:-2,date:(new Date).getTime()}}).then(function(e){e.data.code?t.$message({showClose:!0,message:"拒绝该用户提现成功!",type:"success"}):t.$message({showClose:!0,message:"拒绝该用户提现失败!",type:"error"}),t.onSearch()})}).catch(function(){})},onPass:function(e){var t=this;this.$confirm("确认通过该用户提现申请？","通过",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){t.$axios({method:"post",url:"/apis/member/updateAccLogWDOne",params:{mCode:e.mCode,transNumber:e.transNumber,status:3,date:(new Date).getTime()}}).then(function(e){e.data.code?t.$message({showClose:!0,message:"该用户提现申请通过成功!",type:"success"}):t.$message({showClose:!0,message:"该用户提现申请通过失败!",type:"error"}),t.onSearch()})}).catch(function(){})},handleSelectionChange:function(e){this.selectData=e;for(var t="",a=0;a<e.length;a++)t+=e[a].transNumber+"/";this.selectData=t},onPassAll:function(){var e=this;this.selectData.length>1?this.$confirm("确认批量通过选中项用户提现申请？","批量通过",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning",center:!0}).then(function(){e.$axios({method:"post",url:"/apis/member/updateAccLogWDAll",params:{transS:e.selectData,date:(new Date).getTime()}}).then(function(t){t.data.code?e.$message({showClose:!0,message:"该用户提现申请通过成功!",type:"success"}):e.$message({showClose:!0,message:"该用户提现申请通过失败!",type:"error"}),e.onSearch()})}).catch(function(){}):0==this.selectData.length?this.$message({showClose:!0,message:"暂无审核项!",type:"error"}):this.selectData.length<1&&this.$message({showClose:!0,message:"暂无审核项!",type:"error"})}},created:function(){this.onSearch()}},$t={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"选择操作:"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onPassAll}},[e._v("批量通过")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.searchData,id:"memberTable","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transDate",label:"申请时间",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"会员编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"会员昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceBefore",label:"当前余额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"提现金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"blanceAfter",label:"提现后余额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"提现手续费",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"实际可提额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"提现方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankCode",label:"银行名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accCode",label:"账号",align:"center",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accName",label:"账户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.onPass(t.row)}}},[e._v("通 过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.onReject(t.row)}}},[e._v("拒 绝")])]}}])})],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,30,50,e.pageData.total],total:e.pageData.total,"current-page":e.pageData.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1)],1)},staticRenderFns:[]};var Pt=a("VU/8")(Tt,$t,!1,function(e){a("GhRB")},"data-v-3b1e1bce",null).exports;l.default.use(o.a);var It=new o.a({routes:[{path:"/member",name:"会员管理",component:k,children:[{path:"/addMember",name:"新增会员",component:T},{path:"/addMemberList",name:"新增会员列表",component:z},{path:"/memberList",name:"会员列表",component:W},{path:"/mdetailed",name:"会员详细信息",component:A},{path:"/basicInfo",name:"修改基本信息",component:X},{path:"/sensitiveinfo",name:"修改敏感信息",component:Z},{path:"/reName",name:"会员更名",component:ae},{path:"/changeReferee",name:"更改推荐人",component:re},{path:"/changeLevel",name:"更改会员级别",component:oe},{path:"/bindingOld",name:"与老会员绑定",component:ie},{path:"/allBindingOld",name:"与老会员绑量绑定",component:de},{path:"/queryRecord",name:"修改记录查询",component:fe},{path:"/toExamine",name:"审核管理",component:be},{path:"/mState",name:"会员状态",component:De},{path:"/mStateRecord",name:"会员冻结注销记录",component:ke},{path:"/mIntegralFreezing",name:"会员积分冻结记录",component:Se}]},{path:"/",name:"会员奖励",component:k,children:[{path:"/cycleManage",name:"周期管理",component:Pe},{path:"/cycleChangeLog",name:"周期切换日志",component:ze},{path:"/cycleCount",name:"周期结算",component:Me},{path:"/qualification",name:"本期会员资格表",component:je},{path:"/perStatus",name:"业绩状态检查",component:Fe},{path:"/achievement",name:"本期会员业绩表",component:Oe},{path:"/bonus",name:"本期会员奖金表",component:Ye},{path:"/toExamineC",name:"奖金表审核",component:Ge},{path:"/grant",name:"奖金发放表",component:Xe},{path:"/historicalBonus",name:"历史奖金表",component:Ze},{path:"/bonusgGant",name:"奖金发放明细表",component:at},{path:"/memberBonus",name:"会员奖金明细表",component:nt},{path:"/memberArrears",name:"会员欠款表",component:dt},{path:"/addArrears",name:"创建欠款单",component:it},{path:"/arrearsDetailed",name:"会员欠款明细表",component:ft},{path:"/arrearsToExamine",name:"会员欠款单申请审核",component:bt}]},{path:"/",name:"会员积分管理",component:k,children:[{path:"/IntegralQuery",name:"会员积分查询",component:Dt},{path:"/IntegralRule",name:"会员规则设置",component:kt},{path:"/presentToExamine",name:"提现审核",component:Pt},{path:"/presentRecord",name:"提现记录",component:St}]},{path:"/addMemberForm",name:"addMemberList",component:F},{path:"/Payment",name:"Payment",component:U},{path:"/",redirect:"/member"},{path:"*",redirect:"/home"}]}),Bt=(a("j1ja"),a("mtWM")),zt=a.n(Bt),Nt=(a("Xcu2"),a("zL8q")),At=a.n(Nt),Mt=(a("wtQg"),a("Yg9U")),Rt=a.n(Mt),Ft={name:"dialog-com",data:function(){return{placeholders:["省","市","区"],pca:C.pca,pcaa:C.pcaa,areaLoading:!1,showHead:!0,loadingTable:!0,selectNum:"",BtnAddAddress:!1,BtnChangeAddress:!1,DialogAddress:!1,DialogInfoChange:!1,DialogBank:!1,DialogsearchUser:!1,DialogBigImg:!1,BigImg:"",DialogCustom:!1,title:"",icontype:"",tempData:null,tableData:[],changeDetails:{},isShowbtn:!1,fromBank:{type:"",name:"",number:"",select:["中国工商银行","中国农业银行","中国建设银行","中国银行","招商银行","中国民生银行","中国光大银行","中信银行","交通银行","兴业银行","上海浦东发展银行","华夏银行","深圳发展银行","广东发展银行","中国邮政储蓄银行"]},fromAddress:{address:[],detial:"",name:"",tel:"",phone:"",defaultAdd:"否"},searchFrom:{currentPage:1,pageSize:5,total:null,mCode:"",mName:"",mobile:"",mNickname:""},rulesAddress:{address:[{required:!0,message:"请选择收货地址",trigger:["blur","change"]}],detial:[{required:!0,message:"请输入详细地址",trigger:["blur","change"]},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:["blur","change"]}],name:[{required:!0,message:"请输入收货人",trigger:["blur","change"]},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:["blur","change"]}],tel:[{required:!0,message:"请输入手机号",trigger:["blur","change"]},{validator:function(e,t,a){/^1[3|4|5|7|8][0-9]\d{8}$/.test(t)?a():a(new Error("请输入正确的电话号码"))},trigger:["blur","change"]}]},rulesBank:{type:[{required:!0,message:"请选择开户行",trigger:["blur","change"]}],name:[{required:!0,message:"请输入户名",trigger:["blur","change"]},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:["blur","change"]}],number:[{required:!0,message:"请输入账号",trigger:["blur","change"]},{min:16,max:19,message:"长度为16位到19位",trigger:["blur","change"]}]}}},methods:{onSearchDialog:function(e){e&&(this.searchFrom.mCode=e),this.DialogsearchUser=!0,this.selectNum="",this.getMemberinfo()},onChangePage:function(e){this.searchFrom.currentPage=e,this.getMemberinfo()},handleSizeChange:function(e){this.searchFrom.pageSize=e,this.getMemberinfo()},getMemberinfo:function(){var e=this;this.loadingTable=!0,this.$axios({method:"post",url:"/apis/member/search",params:{currentPage:this.searchFrom.currentPage,pageSize:this.searchFrom.pageSize,mCode:this.searchFrom.mCode,mName:this.searchFrom.mName,mobile:this.searchFrom.mobile,mNickname:this.searchFrom.mNickname,date:(new Date).getTime()}}).then(function(t){if(t.data.code){e.tableData=t.data.data.list,e.searchFrom.total=t.data.data.total;for(var a=function(a){e.tableData[a].birthdate=e.tableData[a].birthdate.slice(0,10),e.$axios.all([e.$axios({method:"get",url:"/apis/member/findRelationByMCode",params:{mCode:t.data.data.list[a].mCode,date:(new Date).getTime()}}).then(function(t){t.data.code&&(e.tableData[a].mStatus=0==t.data.data.memberRelation.mStatus?"正常":1==t.data.data.memberRelation.mStatus?"冻结":"注销",e.tableData[a].mLevel=t.data.data.rankName,l.default.set(e.tableData,a,e.tableData[a]))}),e.$axios({method:"get",url:"/apis/member/findRelationByMCode",params:{mCode:t.data.data.list[a].mCode,date:(new Date).getTime()}}).then(function(t){t.data.code&&(e.tableData[a].refereeId=t.data.data.memberRelation.sponsorCode,e.tableData[a].refereeName=t.data.data.memberRelation.sponsorName,l.default.set(e.tableData,a,e.tableData[a]))})]).then(function(){setTimeout(function(){e.loadingTable=!1},200)})},r=0;r<t.data.data.list.length;r++)a(r)}})},getCurrentRow:function(e){this.selectNum=e},sendData:function(){""===this.selectNum?this.$message({showClose:!0,message:"请先选择用户",type:"error"}):(this.$emit("searchData",this.tableData[this.selectNum]),this.DialogsearchUser=!1)},showDialogAddAddress:function(e){var t=this;this.tempData=e,this.areaLoading=!1,this.fromAddress={address:[],detial:"",name:"",tel:"",phone:"",defaultAdd:"否"},setTimeout(function(){t.areaLoading=!0},100),this.DialogAddress=!0,this.BtnChangeAddress=!1,this.BtnAddAddress=!0},onSendAddress:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;t.$axios({method:"post",url:"/apis/member/addMemAdd",params:{mCode:t.tempData.id,consigneeName:t.fromAddress.name,mobile:t.fromAddress.tel,phone:t.fromAddress.phone,addProvinceCode:t.fromAddress.address[0],addCityCode:t.fromAddress.address[1],addCountryCode:t.fromAddress.address[2],addDetial:t.fromAddress.detial,addPost:t.tempData.zipCode,defaultAdd:"是"==t.fromAddress.defaultAdd?1:0}}).then(function(e){e.data.code?(t.$message({message:"添加新收货地址成功！",type:"success"}),t.$emit("addAddress")):t.$message({message:"添加新收货地址失败！",type:"error"})}),t.DialogAddress=!1})},showDialogAddressChange:function(e){var t=this;this.BtnAddAddress=!1,this.BtnChangeAddress=!0,this.areaLoading=!1,this.$axios({method:"get",url:"/apis/member/findMemAddByMCode",params:{aId:e.aId,mCode:e.mCode}}).then(function(e){e.data.code?(t.fromAddress.aId=e.data.data.aId,t.fromAddress.mCode=e.data.data.mCode,t.fromAddress.addPost=e.data.data.addPost,t.fromAddress.address[0]=e.data.data.addProvinceCode,t.fromAddress.address[1]=e.data.data.addCityCode,t.fromAddress.address[2]=e.data.data.addCountryCode,t.fromAddress.detial=e.data.data.addDetial,t.fromAddress.name=e.data.data.consigneeName,t.fromAddress.tel=e.data.data.mobile,t.fromAddress.phone=e.data.data.phone,t.fromAddress.defaultAdd=1==e.data.data.defaultAdd?"是":"否",t.DialogAddress=!0,setTimeout(function(){t.areaLoading=!0},100)):console.log("获取修改地址失败")})},OnchangeAddress:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;t.$axios({method:"post",url:"/apis/member/editMemAdd",params:{aId:t.fromAddress.aId,mCode:t.fromAddress.mCode,consigneeName:t.fromAddress.name,mobile:t.fromAddress.tel,phone:t.fromAddress.phone,addProvinceCode:t.fromAddress.address[0],addCityCode:t.fromAddress.address[1],addCountryCode:t.fromAddress.address[2],addDetial:t.fromAddress.detial,addPost:t.fromAddress.addPost,defaultAdd:"是"==t.fromAddress.defaultAdd?1:0}}).then(function(e){e.data.code?(t.$message({message:"修改成功！",type:"success"}),t.$emit("changeAddress"),t.DialogAddress=!1):t.$message({message:"修改地址失败!",type:"error"})})})},showDialogBank:function(e){this.fromBank.type="",this.fromBank.name="",this.fromBank.number="",this.DialogBank=!0,this.fromBank.mid=e},onAddBank:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({showClose:!0,message:"请输入必填信息!",type:"error"}),!1;t.$axios({method:"post",url:"/apis/member/addBankByMCode",params:{mCode:t.fromBank.mid,bankCode:t.fromBank.type,accName:t.fromBank.name,accCode:t.fromBank.number}}).then(function(e){e.data.code?(t.$message({showClose:!0,message:"添加银行卡成功!",type:"success"}),t.DialogBank=!1,t.$emit("addBank")):t.$message({showClose:!0,message:"服务器未响应!",type:"error"})})})},onExaminePass:function(){var e=this;this.$axios({method:"post",url:"/apis/member/updateEditById",params:{rId:this.changeDetails.rId,reviewStatus:2,reviewMemo:this.changeDetails.reviewMemo}}).then(function(t){t.data.code?(e.$message({showClose:!0,message:"审核成功",type:"success"}),e.$emit("changeDetail")):e.$message({showClose:!0,message:t.data.msg,type:"error"})}),this.DialogInfoChange=!1},onExamineReject:function(){var e=this;this.$axios({method:"post",url:"/apis/member/updateEditById",params:{rId:this.changeDetails.rId,reviewStatus:1,reviewMemo:this.changeDetails.reviewMemo}}).then(function(t){t.data.code?(e.$message({showClose:!0,message:"成功驳回",type:"success"}),e.$emit("changeDetail")):e.$message({showClose:!0,message:t.data.msg,type:"error"})}),this.DialogInfoChange=!1},showDialoChangeDetails:function(e){this.changeDetails=null,this.DialogInfoChange=!0,e.showSubmit?this.isShowbtn=!0:this.isShowbtn=!1,this.changeDetails=e.data,1==this.changeDetails.idTypeBefore?this.changeDetails.idTypeBefore="身份证":2==this.changeDetails.idTypeBefore?this.changeDetails.idTypeBefore="护照":3==this.changeDetails.idTypeBefore?this.changeDetails.idTypeBefore="军官证":4==this.changeDetails.idTypeBefore&&(this.changeDetails.idTypeBefore="回乡证"),1==this.changeDetails.idType?this.changeDetails.idType="身份证":2==this.changeDetails.idType?this.changeDetails.idType="护照":3==this.changeDetails.idType?this.changeDetails.idType="军官证":4==this.changeDetails.idType&&(this.changeDetails.idType="回乡证"),0==this.changeDetails.rank?this.changeDetails.rank="普通会员":1==this.changeDetails.rank?this.changeDetails.rank="VIP会员":2==this.changeDetails.rank?this.changeDetails.rank="代理会员":3==this.changeDetails.rank?this.changeDetails.rank="初级代理店":4==this.changeDetails.rank?this.changeDetails.rank="一级代理店":5==this.changeDetails.rank?this.changeDetails.rank="二级代理店":6==this.changeDetails.rank?this.changeDetails.rank="三级代理店":7==this.changeDetails.rank?this.changeDetails.rank="旗舰店":8==this.changeDetails.rank?this.changeDetails.rank="高级旗舰店":9==this.changeDetails.rank&&(this.changeDetails.rank="超级旗舰店"),0==this.changeDetails.rankBefore?this.changeDetails.rankBefore="普通会员":1==this.changeDetails.rankBefore?this.changeDetails.rankBefore="VIP会员":2==this.changeDetails.rankBefore?this.changeDetails.rankBefore="代理会员":3==this.changeDetails.rankBefore?this.changeDetails.rankBefore="初级代理店":4==this.changeDetails.rankBefore?this.changeDetails.rankBefore="一级代理店":5==this.changeDetails.rankBefore?this.changeDetails.rankBefore="二级代理店":6==this.changeDetails.rankBefore?this.changeDetails.rankBefore="三级代理店":7==this.changeDetails.rankBefore?this.changeDetails.rankBefore="旗舰店":8==this.changeDetails.rankBefore?this.changeDetails.rankBefore="高级旗舰店":9==this.changeDetails.rankBefore&&(this.changeDetails.rankBefore="超级旗舰店"),e.data.uploadPath&&"string"==typeof e.data.uploadPath&&(this.changeDetails.uploadPath=e.data.uploadPath.split("||"))},showBigImg:function(e){this.DialogBigImg=!0,this.BigImg=e},userDefined:function(e){this.DialogCustom=!0,this.icontype=e.icon,this.title=e.title}}},Et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("el-dialog",{attrs:{visible:e.DialogsearchUser,width:"90%",center:""},on:{"update:visible":function(t){e.DialogsearchUser=t}}},[a("el-form",{attrs:{"label-width":"70px","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"用户编号"}},[a("el-input",{model:{value:e.searchFrom.mCode,callback:function(t){e.$set(e.searchFrom,"mCode",t)},expression:"searchFrom.mCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.searchFrom.mName,callback:function(t){e.$set(e.searchFrom,"mName",t)},expression:"searchFrom.mName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearchDialog}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{model:{value:e.searchFrom.mobile,callback:function(t){e.$set(e.searchFrom,"mobile",t)},expression:"searchFrom.mobile"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{model:{value:e.searchFrom.mNickname,callback:function(t){e.$set(e.searchFrom,"mNickname",t)},expression:"searchFrom.mNickname"}})],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],ref:"multipleTable",attrs:{data:e.tableData,"tooltip-effect":"dark",border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{label:"选择",type:"",width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.$index},nativeOn:{change:function(a){e.getCurrentRow(t.$index)}},model:{value:e.selectNum,callback:function(t){e.selectNum=t},expression:"selectNum"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"mCode",label:"编号",width:"80",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mName",label:"姓名",width:"90",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mNickname",label:"昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refereeId",label:"推荐人编号",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refereeName",label:"推荐人昵称",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                     "+e._s(0==t.row.gender?"男":"女")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"birthdate",label:"出生日期",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationData",label:"加入日期",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateDate",label:"加入期间",align:"center",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mLevel",label:"级别",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mStatus",label:"状态",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"省",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"市",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"country",label:"区县",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detial",label:"详细地址",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addPost",label:"邮编",width:"70",align:"center"}})],1),e._v(" "),a("br"),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8,align:"center"}},[a("el-pagination",{attrs:{"page-size":e.searchFrom.pageSize,layout:"total, sizes, prev, pager, next","page-sizes":[2,3,4,5],total:e.searchFrom.total,"current-page":e.searchFrom.currentPage},on:{"current-change":e.onChangePage,"size-change":e.handleSizeChange}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.DialogsearchUser=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sendData}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.DialogBank,width:"400px",center:""},on:{"update:visible":function(t){e.DialogBank=t}}},[a("el-form",{ref:"fromBank",attrs:{rules:e.rulesBank,model:e.fromBank,"label-width":"70px","label-position":"left"}},[a("el-form-item",{attrs:{label:"开户行",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.fromBank.type,callback:function(t){e.$set(e.fromBank,"type",t)},expression:"fromBank.type"}},e._l(e.fromBank.select,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"户名",prop:"name"}},[a("el-input",{model:{value:e.fromBank.name,callback:function(t){e.$set(e.fromBank,"name",t)},expression:"fromBank.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账号",prop:"number"}},[a("el-input",{model:{value:e.fromBank.number,callback:function(t){e.$set(e.fromBank,"number",t)},expression:"fromBank.number"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.DialogBank=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onAddBank("fromBank")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加新地址",visible:e.DialogAddress,width:"600px",center:""},on:{"update:visible":function(t){e.DialogAddress=t}}},[a("el-form",{ref:"fromAddress",attrs:{"status-icon":"",rules:e.rulesAddress,model:e.fromAddress,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"地址",prop:"address"}},[e.areaLoading?a("div",{staticClass:"area"},[a("area-select",{attrs:{type:"text",level:2,placeholders:e.placeholders,data:e.pcaa},model:{value:e.fromAddress.address,callback:function(t){e.$set(e.fromAddress,"address",t)},expression:"fromAddress.address"}})],1):e._e()]),e._v(" "),a("el-form-item",{attrs:{label:"详细地址",prop:"detial"}},[a("el-input",{model:{value:e.fromAddress.detial,callback:function(t){e.$set(e.fromAddress,"detial",t)},expression:"fromAddress.detial"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收货人",prop:"name"}},[a("el-input",{model:{value:e.fromAddress.name,callback:function(t){e.$set(e.fromAddress,"name",t)},expression:"fromAddress.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[a("el-input",{model:{value:e.fromAddress.tel,callback:function(t){e.$set(e.fromAddress,"tel",t)},expression:"fromAddress.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{model:{value:e.fromAddress.phone,callback:function(t){e.$set(e.fromAddress,"phone",t)},expression:"fromAddress.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设为默认地址","label-width":"120px"}},[a("el-radio-group",{model:{value:e.fromAddress.defaultAdd,callback:function(t){e.$set(e.fromAddress,"defaultAdd",t)},expression:"fromAddress.defaultAdd"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.DialogAddress=!1}}},[e._v("取 消")]),e._v(" "),e.BtnAddAddress?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSendAddress("fromAddress")}}},[e._v("确定添加")]):e._e(),e._v(" "),e.BtnChangeAddress?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.OnchangeAddress("fromAddress")}}},[e._v("确定修改")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.DialogCustom,width:"300px",center:""},on:{"update:visible":function(t){e.DialogCustom=t}}},[a("p",{staticClass:"text-center custom"},[a("i",{directives:[{name:"show",rawName:"v-show",value:"success"==e.icontype,expression:"icontype=='success'"}],staticClass:"el-icon-success"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"error"==e.icontype,expression:"icontype=='error'"}],staticClass:"el-icon-error"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"warning"==e.icontype,expression:"icontype=='warning'"}],staticClass:"el-icon-warning"}),e._v("\n            "+e._s(e.title)+"\n        ")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.DialogCustom=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"用户信息修改详情",visible:e.DialogInfoChange,width:"900px",center:""},on:{"update:visible":function(t){e.DialogInfoChange=t}}},[a("el-form",{staticClass:"form-details",attrs:{"status-icon":"","label-position":"left"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"会员编号:"}},[e._v("\n                        "+e._s(e.changeDetails.mCode)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审批状态:"}},[a("span",{staticClass:"diff"},[e._v(e._s(e.changeDetails.reviewStatus))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原姓名:"}},[e._v("\n                        "+e._s(e.changeDetails.mNameBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新姓名:"}},[a("span",{class:{diff:e.changeDetails.mName!=e.changeDetails.mNameBefore}},[e._v(e._s(e.changeDetails.mName))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原昵称:"}},[e._v("\n                        "+e._s(e.changeDetails.mNicknameBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新昵称:"}},[a("span",{class:{diff:e.changeDetails.mNicknameBefore!=e.changeDetails.mNickname}},[e._v(e._s(e.changeDetails.mNickname))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原性别:"}},[e._v("\n                        "+e._s(0==e.changeDetails.genderBefore?"男":"女")+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新性别:"}},[a("span",{class:{diff:e.changeDetails.genderBefore!=e.changeDetails.gender}},[e._v(e._s(0==e.changeDetails.gender?"男":"女"))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原手机号码:"}},[e._v("\n                        "+e._s(e.changeDetails.mobileBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新手机号码:"}},[a("span",{class:{diff:e.changeDetails.mobileBefore!=e.changeDetails.mobile}},[e._v(e._s(e.changeDetails.mobile))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号:"}},[e._v("\n                        "+e._s(e.changeDetails.weChatBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新微信号:"}},[a("span",{class:{diff:e.changeDetails.weChatBefore!=e.changeDetails.weChat}},[e._v(e._s(e.changeDetails.weChat))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原Email:"}},[e._v("\n                        "+e._s(e.changeDetails.emailBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新Email:"}},[a("span",{class:{diff:e.changeDetails.emailBefore!=e.changeDetails.email}},[e._v(e._s(e.changeDetails.email))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原邮编:"}},[e._v("\n                        "+e._s(e.changeDetails.addPostBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新邮编:"}},[a("span",{class:{diff:e.changeDetails.addPostBefore!=e.changeDetails.addPost}},[e._v(e._s(e.changeDetails.addPost))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原地址:"}},[e._v("\n                        "+e._s(e.changeDetails.provinceBefore)+"-"+e._s(e.changeDetails.cityBefore)+"-"+e._s(e.changeDetails.countryBefore)+"-"+e._s(e.changeDetails.detialBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新地址:"}},[a("span",{class:{diff:e.changeDetails.detialBefore!=e.changeDetails.detial||e.changeDetails.cityBefore!=e.changeDetails.city||e.changeDetails.provinceBefore!=e.changeDetails.province||e.changeDetails.countryBefore!=e.changeDetails.country}},[e._v("\n                            "+e._s(e.changeDetails.province)+"-"+e._s(e.changeDetails.city)+"-"+e._s(e.changeDetails.country)+"-"+e._s(e.changeDetails.detial)+"\n                        ")])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原开户行:"}},[e._v("\n                        "+e._s(e.changeDetails.bankdetailBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新开户行:"}},[a("span",{class:{diff:e.changeDetails.bankdetailBefore!=e.changeDetails.bankdetail}},[e._v(e._s(e.changeDetails.bankdetail))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原户名:"}},[e._v("\n                        "+e._s(e.changeDetails.accNameBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新户名:"}},[a("span",{class:{diff:e.changeDetails.accNameBefore!=e.changeDetails.accName}},[e._v(e._s(e.changeDetails.accName))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原账号:"}},[e._v("\n                        "+e._s(e.changeDetails.accCodeBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新账号:"}},[a("span",{class:{diff:e.changeDetails.accCodeBefore!=e.changeDetails.accCode}},[e._v(e._s(e.changeDetails.accCode))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原证件类型:"}},[e._v("\n                        "+e._s(e.changeDetails.idTypeBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新证件类型:"}},[a("span",{class:{diff:e.changeDetails.idTypeBefore!=e.changeDetails.idType}},[e._v(e._s(e.changeDetails.idType))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原证件号码:"}},[e._v("\n                        "+e._s(e.changeDetails.idCodeBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新证件号码:"}},[a("span",{class:{diff:e.changeDetails.idCodeBefore!=e.changeDetails.idCode}},[e._v(e._s(e.changeDetails.idCode))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原推荐人编号:"}},[e._v("\n                        "+e._s(e.changeDetails.sponsorCodeBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新推荐人编号:"}},[a("span",{class:{diff:e.changeDetails.sponsorCodeBefore!=e.changeDetails.sponsorCode}},[e._v(e._s(e.changeDetails.sponsorCode))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原推荐人姓名:"}},[e._v("\n                        "+e._s(e.changeDetails.sponsorNameBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新推荐人姓名:"}},[a("span",{class:{diff:e.changeDetails.sponsorNameBefore!=e.changeDetails.sponsorName}},[e._v(e._s(e.changeDetails.sponsorName))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原级别:"}},[e._v("\n                        "+e._s(e.changeDetails.rankBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新级别:"}},[a("span",{class:{diff:e.changeDetails.rankBefore!=e.changeDetails.rank}},[e._v(e._s(e.changeDetails.rank))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原绑定账号编号:"}},[e._v("\n                        "+e._s(e.changeDetails.raCodeBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新绑定账号编号:"}},[a("span",{class:{diff:e.changeDetails.raCodeBefore!=e.changeDetails.raCode}},[e._v(e._s(e.changeDetails.raCode))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原绑定账号姓名:"}},[e._v("\n                        "+e._s(e.changeDetails.raNameBefore)+"\n                    ")])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"新绑定账号姓名:"}},[a("span",{class:{diff:e.changeDetails.raNameBefore!=e.changeDetails.raName}},[e._v(e._s(e.changeDetails.raName))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"证明材料:"}},e._l(e.changeDetails.uploadPath,function(t,l){return a("img",{key:l,staticClass:"imglist",attrs:{src:"/apis/"+t},on:{click:function(a){e.showBigImg("/apis/"+t)}}})}))],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"修改人:"}},[e._v("\n                        "+e._s(e.changeDetails.updateBy)+"\n                    ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"修改备注:"}},[a("span",{staticClass:"diff"},[e._v(e._s(e.changeDetails.updateMemo))])])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核备注:"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShowbtn,expression:"!isShowbtn"}],staticClass:"diff"},[e._v(e._s(e.changeDetails.reviewMemo))]),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.isShowbtn,expression:"isShowbtn"}],attrs:{type:"textarea"},model:{value:e.changeDetails.reviewMemo,callback:function(t){e.$set(e.changeDetails,"reviewMemo",t)},expression:"changeDetails.reviewMemo"}})],1)],1)],1)],1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isShowbtn,expression:"isShowbtn"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"success"},on:{click:e.onExaminePass}},[e._v("审核通过")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.onExamineReject}},[e._v("驳 回")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"证明材料",visible:e.DialogBigImg,width:"80%",center:""},on:{"update:visible":function(t){e.DialogBigImg=t}}},[a("img",{attrs:{src:e.BigImg,alt:"",width:"100%"}})])],1)},staticRenderFns:[]};var Lt=a("VU/8")(Ft,Et,!1,function(e){a("wErq")},null,null).exports;l.default.prototype.$axios=zt.a,l.default.use(At.a),l.default.use(Rt.a),l.default.component(Lt.name,Lt),l.default.config.productionTip=!1,new l.default({el:"#app",router:It,components:{App:n},template:"<App/>"})},OHzj:function(e,t){},SXAM:function(e,t){},U9BG:function(e,t){},VJml:function(e,t){},Vktz:function(e,t){},WGLO:function(e,t){},Xcu2:function(e,t){},ZU7C:function(e,t){},dhC9:function(e,t){},eS7K:function(e,t){},eSCd:function(e,t){},fiUJ:function(e,t){},gRIy:function(e,t){},icFX:function(e,t){},kAUv:function(e,t){},kmTW:function(e,t){},koNI:function(e,t){},mS6y:function(e,t){},ma09:function(e,t){},nnlA:function(e,t){},"sr/u":function(e,t){},"w/M8":function(e,t){},wErq:function(e,t){},wfaE:function(e,t){},wtQg:function(e,t){},yenM:function(e,t){},yyZ6:function(e,t){},z5BK:function(e,t){}},[1]);
//# sourceMappingURL=app.152e79b9da061fb5b9ab.js.map